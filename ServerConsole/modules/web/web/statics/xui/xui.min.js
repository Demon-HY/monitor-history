/*! jQuery xui v1.0.0 | (c) 2016-11-29 */!function(a){a.fn.autocomplete=function(b){function c(c){i.data("data",c),0==c.length?i.hide():j();var d="";a.each(c,function(a,c){if(d+='<li index="'+a+'">'+b.formatItem(c)+"</li>",a>=200)return!1}),i.html(d)}function d(){if(i.length){var d=h.attr("val"),e=a.trim(h.val());if(e!=d){if(""==e)return c([]),void h.attr("val","");h.attr("val",e);var f={};f[b.paramName]=e,a.request({url:b.url,params:f,done:function(d){b.onDataReady?a.when(b.onDataReady(d.rows)).then(function(a){c(a)}):c(d.rows)}})}}}function e(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}}var f=(this.offset().left,this.offset().top,this.outerWidth()),g=this.attr("id"),h=this;h.attr("val",""),a("#"+g+"-autocomplete").length&&a("#"+g+"-autocomplete").remove(),a("body").append('<ul id="'+g+'-autocomplete" class="autocomplete"></ul>');var i=a("#"+g+"-autocomplete"),j=function(){var a=h.offset().left,b=h.offset().top+h.outerHeight()-1;i.show().css({left:a,top:b,width:f-2})};h.bind("click",function(){if(!h.val()&&b.defaultValue)return c(b.defaultValue),!1;var d=i.data("data");return a(document).trigger("click"),d&&d.length&&j(),!1});var k=0,l=0;h.on("keydown",function(a){var b=a.which;if(38!=b&&40!=b||i.is(":hidden")&&h.click(),40==b){a.preventDefault();var c=i.find("li").length;38==l&&(k+=2),l=40,k>=c&&(k=0),i.find(".complete-active").removeClass("complete-active"),i.find("li[index="+k++ +"]").addClass("complete-active")}if(38==b){a.preventDefault();var c=i.find("li").length;40==l&&(k-=2),l=38,k<0&&(k=c-1),i.find(".complete-active").removeClass("complete-active"),i.find("li[index="+k--+"]").addClass("complete-active")}13==b&&i.is(":visible")&&i.find(".complete-active").length&&(a.preventDefault(),i.find(".complete-active").click())});var m=e(d,300);return h.on("keyup",function(a){var b=a.which;13!=b&&38!=b&&40!=b&&m()}),a(document).bind("click",function(b){k=0,i.find(".complete-active").removeClass("complete-active"),0!=a(b.target).closest(".autocomplete").length||a(b.target)[0].id==g&&void 0!=g||a(".autocomplete").hide()}),i.on("click","li",function(c){c.preventDefault();var d=i.data("data"),e=parseInt(a(this).attr("index"));b.hasOwnProperty("onSelect")&&b.onSelect.call(this,d[e]),a(document).click()}),this}}(jQuery),jQuery.base64=function(a){function b(a,b){var c=k.indexOf(a.charAt(b));if(c===-1)throw"Cannot decode base64";return c}function c(a){var c,d,e=0,f=a.length,g=[];if(a=String(a),0===f)return a;if(f%4!==0)throw"Cannot decode base64";for(a.charAt(f-1)===j&&(e=1,a.charAt(f-2)===j&&(e=2),f-=4),c=0;c<f;c+=4)d=b(a,c)<<18|b(a,c+1)<<12|b(a,c+2)<<6|b(a,c+3),g.push(String.fromCharCode(d>>16,d>>8&255,255&d));switch(e){case 1:d=b(a,c)<<18|b(a,c+1)<<12|b(a,c+2)<<6,g.push(String.fromCharCode(d>>16,d>>8&255));break;case 2:d=b(a,c)<<18|b(a,c+1)<<12,g.push(String.fromCharCode(d>>16))}return g.join("")}function d(a,b){var c=a.charCodeAt(b);if(c>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return c}function e(a){if(1!==arguments.length)throw"SyntaxError: exactly one argument required";a=String(a);var b,c,e=[],f=a.length-a.length%3;if(0===a.length)return a;for(b=0;b<f;b+=3)c=d(a,b)<<16|d(a,b+1)<<8|d(a,b+2),e.push(k.charAt(c>>18)),e.push(k.charAt(c>>12&63)),e.push(k.charAt(c>>6&63)),e.push(k.charAt(63&c));switch(a.length-f){case 1:c=d(a,b)<<16,e.push(k.charAt(c>>18)+k.charAt(c>>12&63)+j+j);break;case 2:c=d(a,b)<<16|d(a,b+1)<<8,e.push(k.charAt(c>>18)+k.charAt(c>>12&63)+k.charAt(c>>6&63)+j)}return e.join("")}function f(a){return a.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function g(a){var b=a.charCodeAt(0);return b===o||b===t?62:b===p||b===u?63:b<q?-1:b<q+10?b-q+26+26:b<s+26?b-s:b<r+26?b-r+26:void 0}function h(a){function b(a){i[k++]=a}var c,d,e,f,h,i;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var j=a.length;h="="===a.charAt(j-2)?2:"="===a.charAt(j-1)?1:0,i=new n(3*a.length/4-h),e=h>0?a.length-4:a.length;var k=0;for(c=0,d=0;c<e;c+=4,d+=3)f=g(a.charAt(c))<<18|g(a.charAt(c+1))<<12|g(a.charAt(c+2))<<6|g(a.charAt(c+3)),b((16711680&f)>>16),b((65280&f)>>8),b(255&f);return 2===h?(f=g(a.charAt(c))<<2|g(a.charAt(c+1))>>4,b(255&f)):1===h&&(f=g(a.charAt(c))<<10|g(a.charAt(c+1))<<4|g(a.charAt(c+2))>>2,b(f>>8&255),b(255&f)),i}function i(a){function b(a){return m.charAt(a)}function c(a){return b(a>>18&63)+b(a>>12&63)+b(a>>6&63)+b(63&a)}var d,e,f,g=a.length%3,h="";for(d=0,f=a.length-g;d<f;d+=3)e=(a[d]<<16)+(a[d+1]<<8)+a[d+2],h+=c(e);switch(g){case 1:e=a[a.length-1],h+=b(e>>2),h+=b(e<<4&63),h+="==";break;case 2:e=(a[a.length-2]<<8)+a[a.length-1],h+=b(e>>10),h+=b(e>>4&63),h+=b(e<<2&63),h+="="}return h}var j="=",k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="1.0",m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="+".charCodeAt(0),p="/".charCodeAt(0),q="0".charCodeAt(0),r="a".charCodeAt(0),s="A".charCodeAt(0),t="-".charCodeAt(0),u="_".charCodeAt(0);return{decode:c,encode:e,VERSION:l,safeEncode:f,toByteArray:h,fromByteArray:i}}(jQuery),function(a){a.browser=function(){var b={};b.userAgent=navigator.userAgent,b.browser={},b.viewport={},b.os={},resizeEvent=null;var c=[{name:"Edge",group:"Explorer",identifier:"Edge/([0-9.]*)"},{name:"Chrome Mobile",group:"Chrome",identifier:"Chrome/([0-9.]*) Mobile",versionIdentifier:"Chrome/([0-9.]*)"},{name:"Chrome",group:"Chrome",identifier:"Chrome/([0-9.]*)"},{name:"Chromium",group:"Chrome",identifier:"Chromium/([0-9.]*)"},{name:"Chrome for iOS",group:"Chrome",identifier:"CriOS/([0-9.]*)"},{name:"Android Browser",group:"Chrome",identifier:"CrMo/([0-9.]*)"},{name:"Firefox",group:"Firefox",identifier:"Firefox/([0-9.]*)"},{name:"Opera Mini",group:"Opera",identifier:"Opera Mini/([0-9.]*)"},{name:"Opera",group:"Opera",identifier:"Opera ([0-9.]*)"},{name:"Opera",group:"Opera",identifier:"Opera/([0-9.]*)",versionIdentifier:"Version/([0-9.]*)"},{name:"IEMobile",group:"Explorer",identifier:"IEMobile/([0-9.]*)"},{name:"Internet Explorer",group:"Explorer",identifier:"MSIE ([a-zA-Z0-9.]*)"},{name:"Internet Explorer",group:"Explorer",identifier:"Trident/([0-9.]*)",versionIdentifier:"rv:([0-9.]*)"},{name:"Safari",group:"Safari",identifier:"Safari/([0-9.]*)",versionIdentifier:"Version/([0-9.]*)"}],d=[{name:"Windows 2000",group:"Windows",identifier:"Windows NT 5.0",version:"5.0"},{name:"Windows XP",group:"Windows",identifier:"Windows NT 5.1",version:"5.1"},{name:"Windows Vista",group:"Windows",identifier:"Windows NT 6.0",version:"6.0"},{name:"Windows 7",group:"Windows",identifier:"Windows NT 6.1",version:"7.0"},{name:"Windows 8",group:"Windows",identifier:"Windows NT 6.2",version:"8.0"},{name:"Windows 8.1",group:"Windows",identifier:"Windows NT 6.3",version:"8.1"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone ([0-9.]*)"},{name:"Windows Phone",group:"Windows Phone",identifier:"Windows Phone OS ([0-9.]*)"},{name:"Windows",group:"Windows",identifier:"Windows"},{name:"Chrome OS",group:"Chrome OS",identifier:"CrOS"},{name:"Android",group:"Android",identifier:"Android",versionIdentifier:"Android ([a-zA-Z0-9.-]*)"},{name:"iPad",group:"iOS",identifier:"iPad",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"([_|.])"},{name:"iPod",group:"iOS",identifier:"iPod",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"([_|.])"},{name:"iPhone",group:"iOS",identifier:"iPhone OS",versionIdentifier:"OS ([0-9_]*)",versionSeparator:"([_|.])"},{name:"Mac OS X Cheetah",group:"Mac OS",identifier:"Mac OS X (10([_|.])0([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Puma",group:"Mac OS",identifier:"Mac OS X (10([_|.])1([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Jaguar",group:"Mac OS",identifier:"Mac OS X (10([_|.])2([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Panther",group:"Mac OS",identifier:"Mac OS X (10([_|.])3([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Tiger",group:"Mac OS",identifier:"Mac OS X (10([_|.])4([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])5([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Snow Leopard",group:"Mac OS",identifier:"Mac OS X (10([_|.])6([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])7([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Mountain Lion",group:"Mac OS",identifier:"Mac OS X (10([_|.])8([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS X Mavericks",group:"Mac OS",identifier:"Mac OS X (10([_|.])9([0-9_.]*))",versionSeparator:"([_|.])"},{name:"Mac OS",group:"Mac OS",identifier:"Mac OS"},{name:"Ubuntu",group:"Linux",identifier:"Ubuntu",versionIdentifier:"Ubuntu/([0-9.]*)"},{name:"Debian",group:"Linux",identifier:"Debian"},{name:"Gentoo",group:"Linux",identifier:"Gentoo"},{name:"Linux",group:"Linux",identifier:"Linux"},{name:"BlackBerry",group:"BlackBerry",identifier:"BlackBerry"}],e=function(){var d=b.userAgent.toLowerCase();return a.each(c,function(a,c){var e=new RegExp(c.identifier.toLowerCase()),g=e.exec(d);if(null!=g&&g[1]){if(b.browser.name=c.name,b.browser.group=c.group,c.versionIdentifier){var h=new RegExp(c.versionIdentifier.toLowerCase()),i=h.exec(d);null!=i&&i[1]&&f(i[1])}else f(g[1]);return!1}}),!0},f=function(a){var c=a.split(".",2);return b.browser.fullVersion=a,c[0]&&(b.browser.majorVersion=parseInt(c[0])),c[1]&&(b.browser.minorVersion=parseInt(c[1])),!0},g=function(){var c=b.userAgent.toLowerCase();return a.each(d,function(a,d){var e=new RegExp(d.identifier.toLowerCase()),f=e.exec(c);if(null!=f){if(b.os.name=d.name,b.os.group=d.group,d.version)h(d.version,d.versionSeparator?d.versionSeparator:".");else if(f[1])h(f[1],d.versionSeparator?d.versionSeparator:".");else if(d.versionIdentifier){var g=new RegExp(d.versionIdentifier.toLowerCase()),i=g.exec(c);null!=i&&i[1]&&h(i[1],d.versionSeparator?d.versionSeparator:".")}return!1}}),!0},h=function(a,c){var d=a.split(c,2);return"."!=c&&(a=a.replace(new RegExp(c,"g"),".")),b.os.fullVersion=a,d[0]&&(b.os.majorVersion=parseInt(d[0])),d[1]&&(b.os.minorVersion=parseInt(d[1])),!0},i=function(c){return b.viewport.width=a(window).width(),b.viewport.height=a(window).height(),"undefined"==typeof c&&(null==resizeEvent?a(window).trigger("browser::StartResizing"):clearTimeout(resizeEvent),resizeEvent=setTimeout(function(){a(window).trigger("browser::StopResizing"),clearTimeout(resizeEvent),resizeEvent=null},300)),!0},j=function(){if("undefined"==typeof window.orientation)b.viewport.width>=b.viewport.height?b.viewport.orientation="landscape":b.viewport.orientation="portrait";else switch(window.orientation){case-90:case 90:b.viewport.orientation="landscape";break;default:b.viewport.orientation="portrait"}return a(window).trigger("browser::OrientationChange"),!0};return"undefined"!=typeof window.pgwJsUserAgentTester&&(b.userAgent=window.pgwJsUserAgentTester),e(),g(),i(!0),j(),a(window).on("orientationchange",function(a){j()}),a(window).resize(function(a){i()}),b}}(window.Zepto||window.jQuery),function($){function init(a,b){var c=a.attr("id"),d='<div id="'+c+'-datebox" for="'+c+'" class="xdate"><div class="xdate-hd"><i class="xdate-prev">&laquo;</i><i class="xdate-next">&raquo;</i><div class="xdate-intxt"><span class="intxt-year"></span>\u5E74 <span class="intxt-month"></span>\u6708</div><div class="xdate-inset"><select class="inset-year"></select> <select class="inset-month"></select></div></div><div class="xdate-bd"><ul class="xdate-week"><li>\u65E5</li><li>\u4E00</li><li>\u4E8C</li><li>\u4E09</li><li>\u56DB</li><li>\u4E94</li><li>\u516D</li></ul><ul class="xdate-days"></ul></div></div>';$("body").append(d);var e=$("#"+c+"-datebox");buildSelect(e);var f=a.val()?formatDate(a.val()):getToday();updateData(e,f.year,f.month,f.day),bind(e,b)}function updateData(a,b,c,d){var e=$("#"+a.attr("for")),f=e.val()?formatDate(e.val()):getToday(),g={year:f.year,month:f.month,day:f.day},h=buildNodes(b,c,d,g);a.find(".xdate-days").html(h),a.find(".intxt-year").html(b),a.find(".intxt-month").html(c),a.find(".inset-year").val(b),c=c<10&&2==(c+"").length?parseInt((c+"").substr(1)):parseInt(c),a.find(".inset-month").val(c)}function formatDate(a){return a=a.split("-"),{year:a[0],month:a[1],day:a[2]}}function getToday(){var a=new Date,b=a.getFullYear(),c=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,d=a.getDate()<10?"0"+a.getDate():a.getDate();return{year:b+"",month:c+"",day:d+""}}function getDay(a,b,c){var d=a%100>0?parseInt(a/100)+1:parseInt(a/100);b<3&&(a-=1,b+=12),d-=1,a%=100;var e=a+parseInt(a/4)+parseInt(d/4)-2*d+parseInt(26*(b+1)/10)+c-1;return e<0&&(e+=7),e%7}function buildNodes(a,b,c,d){a=parseInt(a),b=b<10&&2==(b+"").length?parseInt((b+"").substr(1)):parseInt(b);var e=new Date,f={},g={},h={},i={};g.year=e.getFullYear(),g.month=e.getMonth()+1,g.day=e.getDate(),f.year=a,f.month=b;var j=getDay(f.year,f.month,1),k=new Date(f.year,f.month,0),l=k.getDate();1==f.month?(h.year=f.year-1,h.month=12):(h.year=f.year,h.month=f.month-1<10?"0"+(f.month-1):f.month-1),12==f.month?(i.year=f.year+1,i.month="01"):(i.year=f.year,i.month=f.month+1<10?"0"+(f.month+1):f.month+1),f.month=b<10?"0"+b:b;var m=new Date(h.year,h.month,0);h.days=m.getDate(),f.last=(j+l%7-1)%7;for(var n="",o=1;o<=j;o++)n+='<li date="'+h.year+"-"+h.month+"-"+(h.days-j+o)+'" class="xdate-other">'+(h.days-j+o)+"</li>";for(var o=1;o<=l;o++){var p=' class="';(o+j)%7==0&&(p+="xdate-sat"),(o+j)%7==1&&(p+="xdate-sun"),o==d.day&&f.month==d.month&&f.year==d.year&&(p+=" xdate-now"),p+='"';var c=o<10?"0"+o:o;n+='<li date="'+f.year+"-"+f.month+"-"+c+'"'+p+">"+o+"</li>"}if(6!=f.last)for(var o=1;o<=6-f.last;o++){var c=o<10?"0"+o:o;n+='<li date="'+i.year+"-"+i.month+"-"+c+'" class="xdate-other">'+o+"</li>"}return n}function buildSelect(a){for(var b=new Date,c=b.getFullYear(),d=b.getMonth()+1,e="",f="",g=c-10;g<=c+15;g++){if(g==c)var h=" selected";else var h="";e+='<option value="'+g+'"'+h+">"+g+"</option>"}for(var g=1;g<=12;g++){if(g==d)var h=" selected";else var h="";f+='<option value="'+g+'"'+h+">"+g+"</option>"}a.find(".inset-year").html(e),a.find(".inset-month").html(f)}function bind(a,b){var c=$("#"+a.attr("for"));a.on("click",".xdate-days li",function(c){c.preventDefault();var d=$(this).attr("date");return a.find(".xdate-now").removeClass("xdate-now"),$(this).addClass("xdate-now"),setValue(a,d,b),close(a),!1}),a.on("click",".xdate-intxt",function(b){return b.preventDefault(),$(this).hide(),a.find(".xdate-inset").show(),!1}),a.on("click",".xdate-prev",function(){var b=parseInt(a.find(".inset-year").val()),c=parseInt(a.find(".inset-month").val());if(1==c)var d=b-1,e=12;else var d=b,e=c-1;return updateData(a,d,e),!1}),a.on("click",".xdate-next",function(){var b=parseInt(a.find(".inset-year").val()),c=parseInt(a.find(".inset-month").val());if(12==c)var d=b+1,e=1;else var d=b,e=c+1;return updateData(a,d,e),!1}),a.on("click",".xdate-inset",function(a){return a.preventDefault(),a.stopPropagation(),!1}),a.on("change",".inset-year,.inset-month",function(b){var c=a.find(".inset-year").val(),d=a.find(".inset-month").val();return updateData(a,c,d),!1}),$("#"+a.attr("for")).bind("click",function(b){b.stopPropagation(),open(a)}),$(document).bind("click",function(b){0==$(b.target).closest(".xdate").length&&$(b.target).attr("id")!=c.attr("id")&&close(a)})}function setValue(a,b,c){$("#"+a.attr("for")).val(b),c.callback&&c.callback()}function close(a){a.hide(),a.find(".xdate-inset").hide(),a.find(".xdate-intxt").show()}function open(a){$(".xdate").hide();var b=$("#"+a.attr("for")),c=b.offset().left,d=b.get(0).offsetHeight+b.offset().top+1;a.css({top:d,left:c}).show()}$.fn.datebox=function(option,value){if("string"==typeof option)return $.fn.datebox.methods[option](this,value);option=option||{};var data=this.data("data");if(data)$.extend(data.options,option);else{var options=this.attr("data-options")||"";options=eval("({"+options+"})"),$.extend(options,option),this.data("data",{options:$.extend({},$.fn.datebox.defaults,options)})}return init(this,this.data("data").options),this},$.fn.datebox.defaults={callback:null}}(jQuery),function($){$.fn.dialog=function(option,value){if("string"==typeof option)return $.fn.dialog.methods[option](this,value);option=option||{};var data=this.data("data");if(data)$.extend(data.options,option);else{var options=this.attr("data-options")||"";options=eval("({"+options+"})"),$.extend(options,option),this.data("data",{options:$.extend({},$.fn.dialog.defaults,options)})}return init(this,this.data("data").options),this},$.fn.dialog.defaults={width:400,title:"",showHeader:!0,height:300,data:null,buttons:null,onInited:null,onClosed:null,draggable:!0},$.fn.dialog.methods={close:function(a){var b=a.data("data").options;return(!b.onClosed||b.onClosed()!==!1)&&(a.removeData("data"),a.off().html("").css("opacity",0).hide().remove(),void $.mask("dialog",!0))},addButton:function(a,b){var c=a.data("data").callbacks;str='<button name="'+b.name+'" class="btn',b.cls&&(str+=" "+b.cls),str+='">'+b.text+"</button>",b.handler&&(c[b.name]=b.handler),a.find(".xdialog-footer").append(str)}};var init=function(a,b){b.width=b.width>=200?b.width:200,b.height||(b.height=b.height>=320?b.height:320),a.addClass("xdialog");var c='<div class="xmsg-header"><span class="xmsg-title">'+b.title+'</span><span class="xmsg-close"></span></div><div class="xdialog-bodywrap"><div class="xdialog-body"></div></div>';b.showHeader===!1&&(c='<div class="xdialog-bodywrap"><div class="xdialog-body"></div></div>');var d={};b.buttons&&(c+='<div class="xdialog-footer">',$.each(b.buttons,function(a,e){c+='<button name="'+e.name+'" class="btn',e.cls&&(c+=" "+e.cls),c+='">'+e.text+"</button>",e.handler&&(d[e.name]=e.handler),a==b.buttons.length-1&&(c+="</div>")})),a.data("data").callbacks=d,c+="",$.mask("dialog"),a.html(c),b.draggable&&a.draggable({handle:".xmsg-header"}),b.data?(a.find(".xdialog-body").html(b.data),a.find(".xdialog-body form").length&&a.find(".xdialog-body form").append('<input type="text" style="display:none;">'),$("input, textarea").blur(function(a){var b=$(this),c=$.trim(b.val());b.val(c)}),$.fn.hasOwnProperty("placeholder")&&$("input, textarea").placeholder(),b.onInited&&b.onInited(),setPosition(a,b)):b.url&&(a.find(".xdialog-body").html('<span class="xdialog-loading"></span>'),$.request({url:b.url,type:"get",dataType:"html",done:function(c){a.find(".xdialog-body").html(c),a.find(".xdialog-body form").length&&a.find(".xdialog-body form").append('<input type="text" style="display:none;">'),$("input, textarea").blur(function(a){var b=$(this),c=$.trim(b.val());b.val(c)}),$.fn.hasOwnProperty("placeholder")&&$("input, textarea").placeholder(),b.onInited&&b.onInited(),setPosition(a,b)}})),bind(a)},bind=function(a){a.on("click",".xmsg-close",function(b){b.preventDefault(),a.dialog("close")}),a.on("click",".xdialog-footer button",function(b){b.preventDefault(),$this=$(this);var c=$this.attr("name"),d=a.data("data").callbacks;d.hasOwnProperty(c)&&d[c]()})},setPosition=function(a,b){if("auto"==b.height){if(a.height()>$(window).height()-160){var c=160;b.showHeader!==!1&&b.buttons||(c=60),a.css({width:b.width,height:"auto",left:($(window).width()-b.width)/2,top:5})}else a.css({width:b.width,height:"auto",left:($(window).width()-b.width)/2,top:($(window).height()-a.height())/2});a.find(".xdialog-bodywrap").css({height:"auto"}),a.find(".xdialog-body").css({height:"auto",width:a.width()-40,overflow:"hidden"})}else{a.css({width:b.width,height:b.height});var c=100;b.showHeader===!1&&(c=60),a.find(".xdialog-bodywrap").css({height:a.height()-c}),a.find(".xdialog-body").css({height:a.height()-c-20,width:a.width()-40}),a.height()>$(window).height()-160?a.css({left:($(window).width()-b.width)/2,top:5}).show():a.css({left:($(window).width()-b.width)/2,top:($(window).height()-b.height)/2}).show()}a.animate({opacity:1},100).show()}}(jQuery),function(a){a.dialog=function(b,c){return a("#xdialog").length||a("body").append('<div id="xdialog"></div>'),a("#xdialog").dialog(b,c),this}}(jQuery),function(a){a.fn.draggable=function(b){var c={handle:null};c=a.extend(c,b);var d=this,e=this;c.handle&&(d=this.find(c.handle),d.css("cursor","move"),e=this);var f=!1,g=0,h=0;d.mousedown(function(a){a.preventDefault(),f=!0,g=a.pageX-parseInt(e.css("left")),h=a.pageY-parseInt(e.css("top"))}),a(document).mousemove(function(a){if(f){var b=a.pageX-g,c=a.pageY-h;b=b>=0?b:0,c=c>=0?c:0,e.css({left:b,top:c})}}).mouseup(function(a){f=!1})}}(jQuery),function($){function init(a,b){if(a.addClass("xgrid"),a.append('<div class="xgrid-listwrap"></div>'),$(".xgrid-listwrap").append('<ul class="xgrid-list"></ul>'),b.toolbar&&$(b.toolbar).addClass("xtable-toolbar"),fixSize(a,b),b.data)a.data("data").data=b.data,a.find(".xgrid-list").html(build(a,b.data)),lazyload(a,b,b.data.length),bind(a,b),b.onInited&&b.onInited(),b.onRefresh&&b.onRefresh(b.data);else if(b.url){var c=b.params,d={};d[b.pageIndex]=1,d[b.pageSize]=b.pageRows,c=$.extend(b.params,d),loading(a),$.request({url:b.url,params:c,done:function(c){var d=function(c){a.data("data").data=c[b.rowsName],a.find(".xgrid-list").append(build(a,c[b.rowsName])),lazyload(a,b,c.total),bind(a,b),b.onInited&&b.onInited(),b.onRefresh&&b.onRefresh(c),loading(a,!0)};return c.hasOwnProperty(b.rowsName)?void(b.onDataReady?$.when(b.onDataReady(c)).then(function(a){d(a)}):d(c)):(loading(a,!0),b.onLoadError&&b.onLoadError(c),!1)},fail:function(c){loading(a,!0),b.onLoadError&&b.onLoadError(c)}})}}$.fn.grid=function(option,value){if("string"==typeof option)return $.fn.grid.methods[option](this,value);option=option||{};var data=this.data("data");if(data)$.extend(data.options,option);else{var options=this.attr("data-options")||"";options=eval("({"+options+"})"),$.extend(options,option),this.data("data",{options:$.extend({},$.fn.grid.defaults,options)})}return init(this,this.data("data").options),this},$.fn.grid.defaults={url:null,data:null,loading:!0,toolbar:null,rowsName:"rows",pageSize:"pageSize",pageIndex:"pageIndex",pageRows:30,params:{},onClickItem:null,onDblClickItem:null,onInited:null,onRefresh:null},$.fn.grid.methods={setting:function(a,b){var c=a.data("data").options;return b&&$.extend(c,b),c},getData:function(a){return a.data("data").data},reload:function(a,b){this.query(a,null,b)},query:function(a,b,c){var d=a.data("data").options;b?d.params=b:b=d.params;var e={},f=a.find(".xgrid-lazyload").data("data");$.extend(e,f),c||(f&&(f[d.pageIndex]=1),e[d.pageIndex]=1),b=$.extend(b,e),loading(a),d.url&&$.request({url:d.url,params:b,done:function(b){var e=function(b){var e=build(a,b[d.rowsName],c);c?(a.data("data").data=$.merge(a.data("data").data,b[d.rowsName]),a.find(".xgrid-list").append(e),a.find(".xgrid-lazyload").attr("status","list")):(a.data("data").data=b[d.rowsName],a.find(".xgrid-list").html(e)),loading(a,!0),d.onRefresh&&d.onRefresh(b)};return b.hasOwnProperty(d.rowsName)?void(d.onDataReady?$.when(d.onDataReady(b)).then(function(a){e(a)}):e(b)):(loading(a,!0),d.onLoadError&&d.onLoadError(b),!1)},fail:function(b){loading(a,!0),d.onLoadError&&d.onLoadError(b)}})},getSelected:function(a){var b=a.find(".xgrid-active:eq(0)");if(b.length){var c=parseInt(b.attr("index")),d=a.data("data").data[c];return d.target=b,d}return null},getSelections:function(a){var b=a.find(".xgrid-active");if(b.length){for(var c=a.data("data").data,d=[],e=0;e<b.length;e++){var f=parseInt($(b[e]).attr("index")),g=c[f];g.target=$(b[e]),d.push(g)}return d}return[]},clearSelections:function(a){a.find(".xgrid-active").removeClass("xgrid-active")}};var bind=function(a,b){var c=a.data("data").data;$(window).resize(function(c){fixSize(a,b)}),a.bind("click",function(c){c.preventDefault();var d=$(c.target).closest(".xgrid-item");0==d.length&&(a.find(".xgrid-active").removeClass("xgrid-active"),b.hasOwnProperty("onRefresh")&&b.onRefresh())}),a.on("click",".xgrid-item",function(a){var d=$(this),e=d.attr("index");return!(b.onBeforeClickRow&&!b.onBeforeClickRow(e,c[e]))&&(a.ctrlKey?d.toggleClass("xgrid-active"):d.hasClass("xgrid-active")?d.toggleClass("xgrid-active"):($(".xgrid-active").removeClass("xgrid-active"),d.addClass("xgrid-active")),void(b.onClickItem&&b.onClickItem(d,e,c[e])))}).on("dblclick",".xgrid-item",function(a){var d=$(this),e=d.attr("index");b.onDblClickItem&&b.onDblClickItem(d,e,c[e])})},fixSize=function(a,b,c){var d=a.parent().width(),e=b.toolbar?$(b.toolbar).outerHeight():0,f=a.parent().height()-e;a.css({height:f-1,width:d}),a.find(".xgrid-listwrap").css({height:f-1,width:d})},build=function(a,b,c){for(var d=a.data("data").options,e="",f=0;f<b.length;f++){var g=f;if(c){var h=a.find(".xgrid-lazyload").data("data");g=(h[d.pageIndex]-1)*h[d.pageSize]+f}e+='<li class="xgrid-item" index="'+g+'">'+d.itemTpl(g,b[f])+"</li>"}return e},lazyload=function(a,b,c){var d=c%b.pageRows==0?c/b.pageRows:parseInt(c/b.pageRows)+1;if(!a.find(".xgrid-lazyload").length){var e='<div class="xgrid-lazyload"></div>';a.append(e);var f={};f[b.pageIndex]=1,f[b.pageSize]=b.pageRows,a.find(".xgrid-lazyload").data("data",f)}$pager=a.find(".xgrid-lazyload"),$wrap=a.find(".xgrid-listwrap"),$wrap.off("scroll"),$wrap.scroll(function(){var c=$wrap.children(".xgrid-list").outerHeight(),e=$wrap.height(),f=$wrap.scrollTop();if(f+e>=c){var g=$pager.data("data")[b.pageIndex];if(g>=d)return!1;$pager.data("data")[b.pageIndex]=g+1;var h=$pager.attr("status");"loading"!=h&&($pager.attr("status","loading"),a.grid("reload",!0))}})},loading=function(a,b){if(b)return a.find(".xloading").fadeOut("400",function(){a.find(".xloading").remove()}),!1;var c=a.data("data").options;if(!a.find(".xloading").length&&c.loading){var d='<div class="xloading"><div class="loading-mask"></div><div class="loading-info"><i></i><span>\u6B63\u5728\u52A0\u8F7D...</span></div></div>';a.append(d)}}}(jQuery),window.Lang=function(){var a=function(a){a=a?a:document.cookie;for(var b=a.split("; "),c={},d=0;d<b.length;d++){var e=b[d].split("=");if(c[e[0]]=e[1],d==b.length-1)return c}return c},b=function(a,b,c){var d=new Date;d.setTime(d.getTime()+3600*c*1e3);var e=a+"="+b+"; expires="+d.toGMTString()+";";document.cookie=e},c=function(){var a=window.location.search,b={};if(a.indexOf("?")!=-1)for(var c=a.substr(1),d=c.split("&"),e=0;e<d.length;e++)b[d[e].split("=")[0]]=d[e].split("=")[1];return b},d="en",e={};d=navigator.language?navigator.language:navigator.browserLanguage;var f=a();f.hasOwnProperty("lang")&&(d=f.lang);var g=c();g.hasOwnProperty("lang")&&(d=g.lang),"zh-cn"!=d.toLowerCase()&&"zh"!=d.toLowerCase()||(d="zh-CN"),"zh-tw"!=d.toLowerCase()&&"zh-hk"!=d.toLowerCase()||(d="zh-TW"),"zh"!=d.substr(0,2)&&(d="en"),b("lang",d,8760),window.language=d;var h=function(){},i="";return h.prototype.init=function(a){},h.prototype.loadPack=function(a){i=a,$.ajax({type:"GET",url:a+d+".json",async:!1,success:function(a){e=a}})},h.prototype.get=function(a){return e.hasOwnProperty(a)?e[a]:(window.addEventListener&&console.warn('The key "'+a+'" is undefined '+i+d+".json"),a)},h.prototype.set=function(a,b){e[a]=b},h.prototype.getLang=function(){return d},h.prototype.setLang=function(a){b("lang",a,8760)},h}(),function(a){function b(){return a("<div/>")}var c=Math.abs,d=Math.max,e=Math.min,f=Math.round;a.imgAreaSelect=function(g,h){function i(a){return a+qa.left-ra.left}function j(a){return a+qa.top-ra.top}function k(a){return a-qa.left+ra.left}function l(a){return a-qa.top+ra.top}function m(a){return a.pageX-ra.left}function n(a){return a.pageY-ra.top}function o(a){var b=a||S,c=a||T;return{x1:f(ua.x1*b),y1:f(ua.y1*c),x2:f(ua.x2*b),y2:f(ua.y2*c),width:f(ua.x2*b)-f(ua.x1*b),height:f(ua.y2*c)-f(ua.y1*c)}}function p(a,b,c,d,e){var g=e||S,h=e||T;ua={x1:f(a/g||0),y1:f(b/h||0),x2:f(c/g||0),y2:f(d/h||0)},ua.width=ua.x2-ua.x1,ua.height=ua.y2-ua.y1}function q(){J&&ka.width()&&(qa={left:f(ka.offset().left),top:f(ka.offset().top)},N=ka.innerWidth(),O=ka.innerHeight(),qa.top+=ka.outerHeight()-O>>1,qa.left+=ka.outerWidth()-N>>1,V=f(h.minWidth/S)||0,W=f(h.minHeight/T)||0,X=f(e(h.maxWidth/S||1<<24,N)),Y=f(e(h.maxHeight/T||1<<24,O)),"1.3.2"!=a().jquery||"fixed"!=ta||va.getBoundingClientRect||(qa.top+=d(document.body.scrollTop,va.scrollTop),qa.left+=d(document.body.scrollLeft,va.scrollLeft)),ra=/absolute|relative/.test(P.css("position"))?{left:f(P.offset().left)-P.scrollLeft(),top:f(P.offset().top)-P.scrollTop()}:"fixed"==ta?{left:a(document).scrollLeft(),top:a(document).scrollTop()}:{left:0,top:0},L=i(0),M=j(0),(ua.x2>N||ua.y2>O)&&y())}function r(b){if($){switch(la.css({left:i(ua.x1),top:j(ua.y1)}).add(ma).width(ha=ua.width).height(ia=ua.height),ma.add(na).add(pa).css({left:0,top:0}),na.width(d(ha-na.outerWidth()+na.innerWidth(),0)).height(d(ia-na.outerHeight()+na.innerHeight(),0)),a(oa[0]).css({left:L,top:M,width:ua.x1,height:O}),a(oa[1]).css({left:L+ua.x1,top:M,width:ha,height:ua.y1}),a(oa[2]).css({left:L+ua.x2,top:M,width:N-ua.x2,height:O}),a(oa[3]).css({left:L+ua.x1,top:M+ua.y2,width:ha,height:O-ua.y2}),ha-=pa.outerWidth(),ia-=pa.outerHeight(),pa.length){case 8:a(pa[4]).css({left:ha>>1}),a(pa[5]).css({left:ha,top:ia>>1}),a(pa[6]).css({left:ha>>1,top:ia}),a(pa[7]).css({top:ia>>1});case 4:pa.slice(1,3).css({left:ha}),pa.slice(2,4).css({top:ia})}b!==!1&&(a.imgAreaSelect.onKeyPress!=xa&&a(document).unbind(a.imgAreaSelect.keyPress,a.imgAreaSelect.onKeyPress),h.keys&&a(document)[a.imgAreaSelect.keyPress](a.imgAreaSelect.onKeyPress=xa)),ya&&na.outerWidth()-na.innerWidth()==2&&(na.css("margin",0),setTimeout(function(){na.css("margin","auto")},0))}}function s(a){q(),r(a),_=i(ua.x1),aa=j(ua.y1),ba=i(ua.x2),ca=j(ua.y2)}function t(a,b){h.fadeSpeed?a.fadeOut(h.fadeSpeed,b):a.hide()}function u(a){var b=k(m(a))-ua.x1,c=l(n(a))-ua.y1;ja||(q(),ja=!0,la.one("mouseout",function(){ja=!1})),U="",h.resizable&&(c<=h.resizeMargin?U="n":c>=ua.height-h.resizeMargin&&(U="s"),b<=h.resizeMargin?U+="w":b>=ua.width-h.resizeMargin&&(U+="e")),la.css("cursor",U?U+"-resize":h.movable?"move":""),K&&K.toggle()}function v(b){a("body").css("cursor",""),(h.autoHide||ua.width*ua.height==0)&&t(la.add(oa),function(){a(this).hide()}),a(document).unbind("mousemove",z),la.mousemove(u),h.onSelectEnd(g,o())}function w(b){return 1==b.which&&(q(),U?(a("body").css("cursor",U+"-resize"),_=i(ua[/w/.test(U)?"x2":"x1"]),aa=j(ua[/n/.test(U)?"y2":"y1"]),a(document).mousemove(z).one("mouseup",v),la.unbind("mousemove",u)):h.movable?(Q=L+ua.x1-m(b),R=M+ua.y1-n(b),la.unbind("mousemove",u),a(document).mousemove(B).one("mouseup",function(){h.onSelectEnd(g,o()),a(document).unbind("mousemove",B),la.mousemove(u)})):ka.mousedown(b),!1)}function x(a){Z&&(a?(ba=d(L,e(L+N,_+c(ca-aa)*Z*(ba>_||-1))),ca=f(d(M,e(M+O,aa+c(ba-_)/Z*(ca>aa||-1)))),ba=f(ba)):(ca=d(M,e(M+O,aa+c(ba-_)/Z*(ca>aa||-1))),ba=f(d(L,e(L+N,_+c(ca-aa)*Z*(ba>_||-1)))),ca=f(ca)))}function y(){_=e(_,L+N),aa=e(aa,M+O),c(ba-_)<V&&(ba=_-V*(ba<_||-1),ba<L?_=L+V:ba>L+N&&(_=L+N-V)),c(ca-aa)<W&&(ca=aa-W*(ca<aa||-1),ca<M?aa=M+W:ca>M+O&&(aa=M+O-W)),ba=d(L,e(ba,L+N)),ca=d(M,e(ca,M+O)),x(c(ba-_)<c(ca-aa)*Z),c(ba-_)>X&&(ba=_-X*(ba<_||-1),x()),c(ca-aa)>Y&&(ca=aa-Y*(ca<aa||-1),x(!0)),ua={x1:k(e(_,ba)),x2:k(d(_,ba)),y1:l(e(aa,ca)),y2:l(d(aa,ca)),width:c(ba-_),height:c(ca-aa)},r(),h.onSelectChange(g,o())}function z(a){return ba=/w|e|^$/.test(U)||Z?m(a):i(ua.x2),ca=/n|s|^$/.test(U)||Z?n(a):j(ua.y2),y(),!1}function A(b,c){ba=(_=b)+ua.width,ca=(aa=c)+ua.height,a.extend(ua,{x1:k(_),y1:l(aa),x2:k(ba),y2:l(ca)}),r(),h.onSelectChange(g,o())}function B(a){return _=d(L,e(Q+m(a),L+N-ua.width)),aa=d(M,e(R+n(a),M+O-ua.height)),A(_,aa),a.preventDefault(),!1}function C(){a(document).unbind("mousemove",C),q(),ba=_,ca=aa,y(),U="",oa.is(":visible")||la.add(oa).hide().fadeIn(h.fadeSpeed||0),$=!0,a(document).unbind("mouseup",D).mousemove(z).one("mouseup",v),la.unbind("mousemove",u),h.onSelectStart(g,o())}function D(){a(document).unbind("mousemove",C).unbind("mouseup",D),t(la.add(oa)),p(k(_),l(aa),k(_),l(aa)),this instanceof a.imgAreaSelect||(h.onSelectChange(g,o()),h.onSelectEnd(g,o()))}function E(b){return 1==b.which&&!oa.is(":animated")&&(q(),Q=_=m(b),R=aa=n(b),a(document).mousemove(C).mouseup(D),!1)}function F(){s(!1)}function G(){J=!0,I(h=a.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",
resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},h)),la.add(oa).css({visibility:""}),h.show&&($=!0,q(),r(),la.add(oa).hide().fadeIn(h.fadeSpeed||0)),setTimeout(function(){h.onInit(g,o())},0)}function H(a,b){for(var c in b)void 0!==h[c]&&a.css(b[c],h[c])}function I(c){if(c.parent&&(P=a(c.parent)).append(la.add(oa)),a.extend(h,c),q(),null!=c.handles){for(pa.remove(),pa=a([]),fa=c.handles?"corners"==c.handles?4:8:0;fa--;)pa=pa.add(b());pa.addClass(h.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:sa+1||1}),!parseInt(pa.css("width"))>=0&&pa.width(5).height(5),(ga=h.borderWidth)&&pa.css({borderWidth:ga,borderStyle:"solid"}),H(pa,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}for(S=h.imageWidth/N||1,T=h.imageHeight/O||1,null!=c.x1&&(p(c.x1,c.y1,c.x2,c.y2),c.show=!c.hide),c.keys&&(h.keys=a.extend({shift:1,ctrl:"resize"},c.keys)),oa.addClass(h.classPrefix+"-outer"),ma.addClass(h.classPrefix+"-selection"),fa=0;fa++<4;)a(na[fa-1]).addClass(h.classPrefix+"-border"+fa);H(ma,{selectionColor:"background-color",selectionOpacity:"opacity"}),H(na,{borderOpacity:"opacity",borderWidth:"border-width"}),H(oa,{outerColor:"background-color",outerOpacity:"opacity"}),(ga=h.borderColor1)&&a(na[0]).css({borderStyle:"solid",borderColor:ga}),(ga=h.borderColor2)&&a(na[1]).css({borderStyle:"dashed",borderColor:ga}),la.append(ma.add(na).add(K)).append(pa),ya&&((ga=(oa.css("filter")||"").match(/opacity=(\d+)/))&&oa.css("opacity",ga[1]/100),(ga=(na.css("filter")||"").match(/opacity=(\d+)/))&&na.css("opacity",ga[1]/100)),c.hide?t(la.add(oa)):c.show&&J&&($=!0,la.add(oa).fadeIn(h.fadeSpeed||0),s()),Z=(ea=(h.aspectRatio||"").split(/:/))[0]/ea[1],ka.add(oa).unbind("mousedown",E),h.disable||h.enable===!1?(la.unbind("mousemove",u).unbind("mousedown",w),a(window).unbind("resize",F)):((h.enable||h.disable===!1)&&((h.resizable||h.movable)&&la.mousemove(u).mousedown(w),a(window).resize(F)),h.persistent||ka.add(oa).mousedown(E)),h.enable=h.disable=void 0}var J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka=a(g),la=b(),ma=b(),na=b().add(b()).add(b()).add(b()),oa=b().add(b()).add(b()).add(b()),pa=a([]),qa={left:0,top:0},ra={left:0,top:0},sa=0,ta="absolute",ua={x1:0,y1:0,x2:0,y2:0,width:0,height:0},va=document.documentElement,wa=navigator.userAgent,xa=function(a){var b,c,f=h.keys,g=a.keyCode;if(b=isNaN(f.alt)||!a.altKey&&!a.originalEvent.altKey?!isNaN(f.ctrl)&&a.ctrlKey?f.ctrl:!isNaN(f.shift)&&a.shiftKey?f.shift:isNaN(f.arrows)?10:f.arrows:f.alt,"resize"==f.arrows||"resize"==f.shift&&a.shiftKey||"resize"==f.ctrl&&a.ctrlKey||"resize"==f.alt&&(a.altKey||a.originalEvent.altKey)){switch(g){case 37:b=-b;case 39:c=d(_,ba),_=e(_,ba),ba=d(c+b,_),x();break;case 38:b=-b;case 40:c=d(aa,ca),aa=e(aa,ca),ca=d(c+b,aa),x(!0);break;default:return}y()}else switch(_=e(_,ba),aa=e(aa,ca),g){case 37:A(d(_-b,L),aa);break;case 38:A(_,d(aa-b,M));break;case 39:A(_+e(b,N-k(ba)),aa);break;case 40:A(_,aa+e(b,O-l(ca)));break;default:return}return!1};this.remove=function(){I({disable:!0}),la.add(oa).remove()},this.getOptions=function(){return h},this.setOptions=I,this.getSelection=o,this.setSelection=p,this.cancelSelection=D,this.update=s;var ya=(/msie ([\w.]+)/i.exec(wa)||[])[1],za=/opera/i.test(wa),Aa=/webkit/i.test(wa)&&!/chrome/i.test(wa);for(da=ka;da.length;)sa=d(sa,isNaN(da.css("z-index"))?sa:da.css("z-index")),"fixed"==da.css("position")&&(ta="fixed"),da=da.parent(":not(body)");sa=h.zIndex||sa,ya&&ka.attr("unselectable","on"),a.imgAreaSelect.keyPress=ya||Aa?"keydown":"keypress",za&&(K=b().css({width:"100%",height:"100%",position:"absolute",zIndex:sa+2||2})),la.add(oa).css({visibility:"hidden",position:ta,overflow:"hidden",zIndex:sa||"0"}),la.css({zIndex:sa+2||2}),ma.add(na).css({position:"absolute",fontSize:0}),g.complete||"complete"==g.readyState||!ka.is("img")?G():ka.one("load",G),!J&&ya&&ya>=7&&(g.src=g.src)},a.fn.imgAreaSelect=function(b){return b=b||{},this.each(function(){a(this).data("imgAreaSelect")?b.remove?(a(this).data("imgAreaSelect").remove(),a(this).removeData("imgAreaSelect")):a(this).data("imgAreaSelect").setOptions(b):b.remove||(void 0===b.enable&&void 0===b.disable&&(b.enable=!0),a(this).data("imgAreaSelect",new a.imgAreaSelect(this,b)))}),b.instance?a(this).data("imgAreaSelect"):this}}(jQuery),function($){function init(a){$("html,body").css({height:"100%"}),fixSize(a),$(window).resize(function(b){fixSize(a)})}function fixSize(a){var b=a.children("div"),c=a.width(),d=a.attr("min");d&&parseInt(d)>=c&&(c=parseInt(d));var e=a.height(),f=0,g=0;$.each(b,function(a,b){var d=$(b);if(d.data("data")&&d.data("data").hasOwnProperty("options")){options=d.data("data").options;var h=options.region,i=d.outerHeight();if("north"==h&&(d.css({position:"absolute",width:c,top:0,left:0}),f=i),"west"==h){var j=d.outerWidth();d.css({position:"absolute",height:e-f,top:f,left:0}),g=j}"center"==h&&d.css({position:"absolute",width:c-g,height:e-f,top:f,left:g})}})}$.fn.layout=function(){$.each(this,function(i,v){var nodes=$(v).children("div");$.each(nodes,function(m,n){var options=$(n).attr("data-options");options&&(options=eval("({"+options+"})"),$(n).data("data",{options:options}))}),init($(v))})},$(function(){$(".xlayout").layout()})}(jQuery),function(a){a.menu=function(b){var c='<ul id="xmenu" class="xmenu">',d={},e="menu-item",f=0;if(a.each(b.rows,function(a,g){"separator"==g.name?(e="menu-separator",g.text=""):e="menu-item",(g.hasOwnProperty("init")&&0!=g.init(b.data)||!g.init)&&(c+='<li class="'+e+'" name="'+g.name+'">',(!b.hasOwnProperty("showIcon")||b.hasOwnProperty("showIcon")&&b.showIcon===!0)&&(c+='<i class="menu-icon icon-'+g.name+'"></i>'),c+="<span>"+g.text+"</span></li>",f++),g.onClick&&(d[g.name]=g.onClick)}),c+="</ul>",a("#xmenu").remove(),0==f)return!1;a("body").append(c);var g=a("#xmenu"),h=b.position.left,i=b.position.top,j=g.outerWidth(),k=g.outerHeight(),l=a("body").width(),m=a("body").height();h+j+3>l&&(h=l-j-5),i+k>m&&(i=m-k-5),g.css({left:h+3,top:i}),g.off(),g.on("click","li",function(c){c.preventDefault();var e=a(this);if(e.hasClass("menu-separator"))return!1;var f=e.attr("name");g.remove(),d[f]&&d[f](b.data)}),a("body").bind("mousedown",function(b){var c=a(b.target).closest(".xmenu");0==c.length&&a("#xmenu").remove()})}}(jQuery),function(a){var b={zh:{alert:"\u7CFB\u7EDF\u63D0\u793A",ok:"\u786E\u5B9A",cancel:"\u53D6\u6D88",processing:"\u6B63\u5728\u5904\u7406\uFF0C\u8BF7\u7A0D\u5019"},en:{alert:"Alert",ok:"Ok",cancel:"Cancel",processing:"Processing"}},c="zh",d=function(d){if(d=a.extend({width:300,height:171},d),window.language&&"zh"!=window.language.substr(0,2)&&(c="en"),a("#xmsg").length)return!1;var e=b[c].alert;d.title&&(e=d.title);var f=['<div id="xmsg" class="xmsg">','<div class="xmsg-header">','<span class="xmsg-title">',e,"</span>",'<span class="xmsg-close"></span>',"</div>",'<div class="xmsg-body">'];"info"==d.type&&(f=['<div id="xmsg" class="xmsg"><div class="xmsg-body">']);var g=b[c].ok;if(d.okBtnText&&(g=d.okBtnText),d.text&&(f=f.concat([d.text])),f=f.concat(["</div>",'<div class="xmsg-footer">','<button class="btn btn-primary xmsg-ok">',g,"</button>"]),"confirm"==d.type){var h=b[c].cancel;d.cancelBtnText&&(h=d.cancelBtnText),f=f.concat(['\u3000<button class="btn xmsg-cancel">',h,"</button>"])}f=f.concat(["</div></div>"]),a.mask("msg"),a("body").append(f.join("")),$obj=a("#xmsg").css({width:d.width&&d.width>300?d.width:300,height:d.height&&d.height>172?d.height:172}),$obj.find(".xmsg-body").css({width:d.width-40+"px",height:d.height-110+"px"}).next(".xmsg-footer").css({"margin-bottom":"20px"}),$window=a(window);var i=$window.width(),j=$window.height(),k=$obj.width(),l=$obj.height();$obj.css({left:(i-k)/2,top:(j-l)/2}),"info"==d.type&&$obj.find(".xmsg-body").css({"margin-top":"40px"}),$obj.animate({opacity:1},100),a("#xmsg").off(),$obj.draggable({handle:".xmsg-header"}),$obj.on("click",".xmsg-ok",function(b){return b.preventDefault(),a.mask("msg",!0),$obj.remove(),d.ok&&d.ok(),d.fn&&d.fn(),!1}),$obj.on("click",".xmsg-close,.xmsg-cancel",function(b){return b.preventDefault(),a.mask("msg",!0),$obj.remove(),d.cancel&&d.cancel(),!1})},e=function(a,b,c,d,e){for(var f=1;f<=c;f++)f%2==0?a.animate({left:b+d+"px"},e):a.animate({left:b-d+"px"},e);a.animate({left:b},e),a.offset({left:b})};a.mask=function(b,c){var d=a(".xmask"),e="";if(b&&(e=b+"-mask",d=a("#"+b+"-mask")),c)return a("html").removeAttr("style"),d.remove(),!1;var f=['<div id="',e,'" class="xmask">',"</div>"];if(a(".xmask").length){var g=parseInt(a(".xmask").css("z-index"));f=['<div id="',e,'" class="xmask" style="z-index:',g+20,'"></div>']}a("body").append(f.join("")),a("html").css("overflow","hidden")},a.alert=function(b,c,e){var f={type:"alert",text:b};"function"==typeof c&&(f=a.extend(f,{fn:c})),"object"==typeof c&&(f=a.extend(f,c)),"function"==typeof e&&(f=a.extend(f,{fn:e})),d(f)},a.confirm=function(b,c,e){var f={type:"confirm",text:b};"function"==typeof c&&(f=a.extend(f,{fn:c})),"object"==typeof c&&(f=a.extend(f,c)),"function"==typeof e&&(f=a.extend(f,{fn:e})),d(f)};var f;a.tip=function(b,c){clearInterval(f),a(".xtip").remove();var d={cls:"tip-success",position:"top",animate:!1,time:2e3};d=a.extend(d,c),b=b?b:"";var g='<div class="xtip '+d.cls+'">'+b+"</div>";a("body").append(g);var h=a(".xtip").outerWidth(),i=a(".xtip").css("margin-left","-"+h/2+"px");d.width&&i.css("width",d.width+"px"),d.height&&i.css("height",d.height+"px"),$window=a(window);var j=$window.width(),k=i.width(),l=(j-k)/2;i.css("left",j/2),"top"===d.position&&i.css("top",0),"middle"===d.position&&i.css("top",(a(window).height()-i.height())/2),d.animate&&e(i,l,10,10,30),f=setTimeout(function(){a(".xtip").fadeOut("slow",function(){a(".xtip").remove()})},d.time)};var g;a.process=function(d,e){clearInterval(f),clearInterval(g),a(".xtip").remove();var h={speed:500};if(window.language&&"zh"!=window.language.substr(0,2)&&(c="en"),h=a.extend(h,e),d=d?d:b[c].processing,"close"!=d){var i='<div class="xtip tip-success tip-process">'+d+"</div>";a("body").append(i);var j=a(".xtip").outerWidth()-10;a(".xtip").css({width:j,"margin-left":"-"+j/2+"px"});var k=0,l=["",".","..","..."];g=setInterval(function(){a(".tip-process").text(d+l[k++%4])},h.speed),"number"==typeof h.time&&h.time>0&&(f=setTimeout(function(){clearInterval(g),a(".tip-process").remove()},h.time))}else clearInterval(g),a(".tip-process").remove();return this},a.info=function(a,b){d({type:"info",text:a,fn:b})}}(jQuery),function(a){a.notify=function(b){var c={title:"\u6D88\u606F\u63D0\u9192"},b=a.extend(!0,c,b),d='<div id="xnotify" class="xnotify"><div class="xnotify-icon">';b.icon&&(d+='<img src="'+b.icon+'" />'),d+='</div><div class="xnotify-header"><div class="xnotify-title">'+b.title+'</div><span class="xnotify-close">×</span></div><div class="xnotify-body">'+b.body+"</div></div>",a("#xnotify").length&&a("#xnotify").remove(),a("body").append(d),a("#xnotify").unbind(),a("#xnotify").on("click",".xnotify-close",function(c){return a("#xnotify").remove(),b.onclose&&b.onclose(),!1}),a("#xnotify").on("click",function(c){a("#xnotify").remove(),b.onclick&&b.onclick()})}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(this);if(d.value===f.attr(h?"placeholder-x":"placeholder")&&f.hasClass(n.customClass))if(d.value="",f.removeClass(n.customClass),f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c,c;f.focus()}else d==e()&&d.select()}function d(d){var e,f=this,g=a(this),i=f.id;if(!d||"blur"!==d.type||!g.hasClass(n.customClass))if(""===f.value){if("password"===f.type){if(!g.data("placeholder-textinput")){try{e=g.clone().prop({type:"text"})}catch(j){e=a("<input>").attr(a.extend(b(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-enabled":!0,"placeholder-password":g,"placeholder-id":i}).bind("focus.placeholder",c),g.data({"placeholder-textinput":e,"placeholder-id":i}).before(e)}f.value="",g=g.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g.data("placeholder-id")).show()}else{var k=g.data("placeholder-password");k&&(k[0].value="",g.attr("id",g.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id"))}g.addClass(n.customClass),g[0].value=g.attr(h?"placeholder-x":"placeholder")}else g.removeClass(n.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h=!1,i="[object OperaMini]"===Object.prototype.toString.call(window.operamini),j="placeholder"in document.createElement("input")&&!i&&!h,k="placeholder"in document.createElement("textarea")&&!i&&!h,l=a.valHooks,m=a.propHooks,n={};j&&k?(g=a.fn.placeholder=function(){return this},g.input=!0,g.textarea=!0):(g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};return n=a.extend({},e,b),this.filter((j?"textarea":":input")+"["+(h?"placeholder-x":"placeholder")+"]").not("."+n.customClass).not(":radio, :checkbox, [type=hidden]").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder")},g.input=j,g.textarea=k,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass(n.customClass)?"":b.value},set:function(b,f){var g,h,i=a(b);return""!==f&&(g=i.data("placeholder-textinput"),h=i.data("placeholder-password"),g?(c.call(g[0],!0,f)||(b.value=f),g[0].value=f):h&&(c.call(b,!0,f)||(h[0].value=f),b.value=f)),i.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):(i.hasClass(n.customClass)&&c.call(b),b.value=f),i):(b.value=f,i)}},j||(l.input=f,m.value=f),k||(l.textarea=f,m.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+n.customClass,this).each(function(){c.call(this,!0,"")});setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){var b=!0;try{"javascript:void(0)"===document.activeElement.toString()&&(b=!1)}catch(c){}b&&a("."+n.customClass).each(function(){this.value=""})}))}),function(a){function b(b){a(".popover").remove();var c=a.trim(b.attr("tip"));if(c){var d='<div class="popover"><span class="popover-arrow"></span><span class="popover-arrow-i"></span><p>'+c+"</p></div>";a("body").append(d);var e=b.outerWidth(),f=b.outerHeight(),g=b.offset().top,h=b.offset().left;a(".popover").css({left:h+e+10,top:g+parseInt(f/2)-16})}}a.fn.popover=function(){this.hover(function(){var c=a(this);b(c)},function(){a(".popover").remove()})}}(jQuery),function($){var i18n={zh:{total:"\u5171",page:"\u9875",records:"\u6761\u8BB0\u5F55"},en:{total:"total",page:"page",records:"records"}},lang="zh";window.language&&"zh"!=window.language.substr(0,2)&&(lang="en"),$.fn.table=function(option,value){if("string"==typeof option)return $.fn.table.methods[option](this,value);option=option||{};var data=this.data("data");if(data)$.extend(data.options,option);else{var options=this.attr("data-options")||"";options=eval("({"+options+"})"),$.extend(options,option),options.pagination===!0&&options.lazyload===!0&&(options.pagination=!1),this.data("data",{options:$.extend({},$.fn.table.defaults,options)})}return init(this,this.data("data").options),this},$.fn.table.defaults={url:null,data:null,checkbox:!1,loading:!0,toolbar:null,pagination:!1,lazyload:!1,pageSize:"pageSize",pageIndex:"pageIndex",rowsName:"rows",fixedSize:!1,pageRows:20,fitColumns:!1,showBorder:!0,params:{},rowStyle:null,columns:[],onDataReady:null,onLoadError:null,onClickRow:null,onDblClickRow:null,onInited:null,onRefresh:null,onLoadBtnClick:null},$.fn.table.methods={setting:function(a,b){var c=a.data("data").options;return b&&$.extend(c,b),c},getData:function(a){return a.data("data").data},loadData:function(a,b){a.data("data").data=b,a.find(".xtable-list").html(build(a,b))},reload:function(a,b){this.query(a,null,b)},search:function(a,b){var c=a.data("data").options;c.pagination&&(a.find(".xtable-pager").data("data")[c.pageIndex]=1,this.query(a,b))},query:function(a,b,c){var d=a.data("data").options;b?d.params=b:b=d.params;var e={},f=a.find(".xtable-title .sort-ico");if(f.length&&(e.sort=f.parent().attr("field"),f.hasClass("ico-desc")&&(e.order="desc"),f.hasClass("ico-asc")&&(e.order="asc")),d.pagination){var g=a.find(".xtable-pager").data("data");$.extend(e,g)}if(d.lazyload){var g=a.find(".xtable-lazyload").data("data");$.extend(e,g),c||(g&&(g[d.pageIndex]=1),e[d.pageIndex]=1)}b=$.extend(b,e),loading(a),d.url&&$.request({url:d.url,params:b,done:function(b){var e=function(b){var e=build(a,b[d.rowsName],c);d.lazyload&&c?(a.data("data").data=$.merge(a.data("data").data,b[d.rowsName]),a.find(".xtable-list").append(e),a.find(".xtable-lazyload").attr("status","list")):(a.data("data").data=b[d.rowsName],a.find(".xtable-list").html(e),d.pagination?setPage(a,d,g[d.pageIndex],g[d.pageSize],b.total):d.lazyload&&lazyload(a,d,b.total)),a.find(".xtable-title .xcheck").removeClass("xcheck-active"),loading(a,!0),d.onRefresh&&d.onRefresh(b)};return b.hasOwnProperty(d.rowsName)?void(d.onDataReady?$.when(d.onDataReady(b)).then(function(a){e(a)}):e(b)):(loading(a,!0),d.onLoadError&&d.onLoadError(b),!1)},fail:function(b){loading(a,!0),d.onLoadError&&d.onLoadError(b)}})},getSelected:function(a){var b=a.find(".xtable-active:eq(0)");if(b.length){var c=parseInt(b.attr("index")),d=a.data("data").data[c];return d.target=b,d}return null},getSelections:function(a){var b=a.find(".xtable-active");if(b.length){for(var c=a.data("data").data,d=[],e=0;e<b.length;e++){var f=parseInt($(b[e]).attr("index")),g=c[f];g.target=$(b[e]),d.push(g)}return d}return[]},clearSelections:function(a){a.find(".xtable-title .xcheck").removeClass("xcheck-active"),a.find(".xtable-active").removeClass("xtable-active")},deleteRow:function(a,b){a.find(".xtable-row[index="+b+"]").remove();var c=a.data("data").data[b];return delete a.data("data").data[b],c},addRows:function(a,b){var c=build(a,b,!0);a.find(".xtable-list").append(c),a.data("data").data=a.data("data").data.concat(b)},getRowData:function(a,b){var c=this.getData(a),d=$(b).parents(".xtable-row");if(d.length){var e=d.attr("index");return c[e]}return null}};var init=function(a,b){a.addClass("xtable"),b.showBorder||a.addClass("xtable-noborder"),b.toolbar&&$(b.toolbar).addClass("xtable-toolbar");for(var c='<div class="xtable-titlewrap"><div class="xtable-title">',d=0;d<b.columns.length;d++)if(b.columns[d].checkbox)c+='<div class="col xcheck-col"><i class="xcheck"></i></div>',b.columns[d].width=40;else if(b.columns[d].sortable){var e="";c+='<div class="col sortable" field="'+b.columns[d].field+'"><span>'+b.columns[d].title+'</span><span class="'+e+'"></span></div>'}else c+='<div class="col" field="'+b.columns[d].field+'"><span>'+b.columns[d].title+"</span></div>";if(c+='</div></div><div class="xtable-listwrap"><div class="xtable-list"></div></div>',a.html(c),fixSize(a,b,!0),b.data)a.data("data").data=b.data,a.find(".xtable-list").html(build(a,b.data)),b.lazyload?lazyload(a,b,b.data.length):b.pagination&&pagination(a,b,b.data.length),bind(a,b),b.onInited&&b.onInited(),b.onRefresh&&b.onRefresh(b.data);else if(b.url){var f=b.params;if(b.pagination||b.lazyload){var g={};g[b.pageIndex]=1,g[b.pageSize]=b.lazyload?b.pageRows:20,f=$.extend(b.params,g)}loading(a),$.request({url:b.url,params:f,done:function(c){var d=function(c){a.data("data").data=c[b.rowsName],a.find(".xtable-list").append(build(a,c[b.rowsName])),b.lazyload?lazyload(a,b,c.total):b.pagination&&pagination(a,b,c.total),bind(a,b),b.onInited&&b.onInited(),b.onRefresh&&b.onRefresh(c),loading(a,!0)};return c.hasOwnProperty(b.rowsName)?void(b.onDataReady?$.when(b.onDataReady(c)).then(function(a){d(a)}):d(c)):(loading(a,!0),b.onLoadError&&b.onLoadError(c),!1)},fail:function(c){loading(a,!0),b.onLoadError&&b.onLoadError(c)}})}},bind=function(a,b){var c=a.data("data").data;$(window).resize(function(c){b.fixedSize===!1&&fixSize(a,b)}),a.find(".xtable-listwrap").scroll(function(b){var c=$(this).scrollLeft();a.find(".xtable-title").css("left","-"+c+"px")}),a.on("click",".xtable-row",function(d){var e=$(this),f=e.attr("index");if(b.onBeforeClickRow&&!b.onBeforeClickRow(f,c[f]))return!1;var g=$(d.target);g.hasClass("xcheck")||d.ctrlKey?g.parents(".xtable-row").toggleClass("xtable-active"):e.hasClass("xtable-active")?e.toggleClass("xtable-active"):($(".xtable-active").removeClass("xtable-active"),e.addClass("xtable-active")),a.find(".xtable-row").not(".xtable-active").length?a.find(".xtable-title .xcheck").removeClass("xcheck-active"):a.find(".xtable-title .xcheck").addClass("xcheck-active"),b.onClickRow&&b.onClickRow(e,f,c[f])}).on("dblclick",".xtable-row",function(a){var d=$(this),e=d.attr("index");b.onDblClickRow&&b.onDblClickRow(d,e,c[e])}),a.on("click",".xtable-title .xcheck",function(c){if(c.preventDefault(),b.onBeforeClickRow&&!b.onBeforeClickRow())return!1;var d=$(this);d.toggleClass("xcheck-active"),d.hasClass("xcheck-active")?a.find(".xtable-row").addClass("xtable-active"):a.find(".xtable-active").removeClass("xtable-active"),b.onClickRow&&b.onClickRow()}),a.on("click",".sortable",function(b){b.preventDefault();var c=$(this).children("span:eq(1)");a.find(".sort-ico").removeClass("sort-ico"),c.addClass("sort-ico"),c.hasClass("ico-desc")?c.removeClass("ico-desc").addClass("ico-asc"):c.hasClass("ico-asc")?c.removeClass("ico-asc").addClass("ico-desc"):(a.find(".sort-ico").removeClass("ico-desc").removeClass("ico-asc"),c.addClass("ico-desc")),a.table("reload")})},getColWidth=function(a,b){for(var c=0,d=0;d<b.columns.length;d++)b.columns[d].width&&(c+=b.columns[d].width);var e={totalWidth:c,columns:[]};if(b.fitColumns){for(var f=a.width()-20,g=f,h="percent",d=0;d<b.columns.length;d++)b.columns[d].width?(b.columns[0].checkbox&&e.columns.push(parseInt(b.columns[d].width/(c-40)*(f-40))-1),e.columns[0]=40,g-=b.columns[d].width):(h="fixed",e.columns.push(0)),b.columns[d].w=e.columns[d];if("fixed"==h)for(var d=0;d<b.columns.length;d++){var i=b.columns[d].width;b.columns[d].width||(i=g-b.columns.length),e.columns[d]=i,b.columns[d].w=i}}else for(var d=0;d<b.columns.length;d++)e.columns[d]=b.columns[d].width,b.columns[d].w=b.columns[d].width;return e},fixSize=function(a,b,c){var d=a.width(),e=a.find(".xtable-titlewrap").height(),f=b.toolbar?$(b.toolbar).outerHeight():0,g=a.parent().height()-f,h=b.pagination?36:0;a.find(".xtable-listwrap").css({height:g-e-h-1,width:d}),b.pagination&&a.find(".xtable-pager").width(d);var i=getColWidth(a,b);if(a.height(g),c){a.attr({w:d,h:g}),b.fitColumns?a.find(".xtable-list, .xtable-title").width(d-20):a.find(".xtable-list, .xtable-title").width(i.totalWidth+i.columns.length+1);for(var j=0;j<b.columns.length;j++)a.find(".xtable-title .col:nth-child("+(j+1)+")").width(i.columns[j])}else if(b.fitColumns){var k=parseInt(a.attr("w")),l=parseInt(a.attr("h"));if(a.find(".xtable-list, .xtable-title").width(d-20),d!=k||g!=l){a.attr({w:d,h:g});for(var j=0;j<b.columns.length;j++)a.find(".xtable-row .col:nth-child("+(j+1)+"), .xtable-title .col:nth-child("+(j+1)+")").width(i.columns[j])}}},build=function(a,b,c){for(var d=a.data("data").options,e="",f="",g=0;g<b.length;g++){var h=g;if(d.lazyload&&c){var i=a.find(".xtable-lazyload").data("data");h=(i[d.pageIndex]-1)*i[d.pageSize]+g}if(!d.lazyload&&c&&(h=a.data("data").data.length+g),d.rowStyle)var j=d.rowStyle(b[g],g);e+='<div class="xtable-row'+(j?" "+j:"")+'" index="'+h+'">';for(var k=0;k<d.columns.length;k++)f=d.columns[k].formatter?d.columns[k].formatter(b[g][d.columns[k].field],b[g],g):b[g].hasOwnProperty(d.columns[k].field)?b[g][d.columns[k].field]:"",f=void 0!==f?f:"",e+=d.columns[k].checkbox?'<div class="col xcheck-col" style="width:'+d.columns[k].w+'px;"><i class="xcheck"></i></div>':'<div class="col" style="width:'+d.columns[k].w+'px;"><span class="col-span">'+f+"</span></div>";e+="</div>"}return e},setPage=function(a,b,c,d,e){var f=(a.data("data").options,a.find(".xtable-pager"));if(f.data("data"),void 0===e){f.find(".xpage-disabled").removeClass("xpage-disabled"),1==c&&f.find(".xpage-prev,.xpage-first").addClass("xpage-disabled");var g=a.table("getData").length;g<d&&f.find(".xpage-next").addClass("xpage-disabled"),f.find(".xpage-last").remove();for(var h="",i=c-2;i<=c;i++)i>0&&(h+='<span class="xpage-item',i==c&&(h+=" xpage-current"),h+='">'+i+"</span>");return f.find("td:eq(4)").html(h),!1}var j=e%d==0?e/d:parseInt(e/d)+1,k=i18n[lang].total+" "+j+" "+i18n[lang].page+"\uFF0C"+e+" "+i18n[lang].records;f.find("td:eq(10) span").html(k),f.find(".xpage-last").attr("pageSum",j),f.find(".xpage-disabled").removeClass("xpage-disabled");var h="";if(j<=3){for(var i=1;i<=j;i++)h+='<span class="xpage-item',i==c&&(h+=" xpage-current"),h+='">'+i+"</span>";1==c&&f.find(".xpage-prev, .xpage-first").addClass("xpage-disabled"),j!=c&&0!=j||f.find(".xpage-next, .xpage-last").addClass("xpage-disabled"),0==j&&(h='<span class="xpage-item xpage-current">0</span>')}else{if(c>3)for(var i=c-2;i<=c;i++)h+='<span class="xpage-item',i==c&&(h+=" xpage-current"),h+='">'+i+"</span>";else for(var i=1;i<=3;i++)h+='<span class="xpage-item',i==c&&(h+=" xpage-current"),h+='">'+i+"</span>";c>=j&&f.find(".xpage-next, .xpage-last").addClass("xpage-disabled"),1==c&&f.find(".xpage-prev, .xpage-first").addClass("xpage-disabled")}f.find("td:eq(4)").html(h)},pagination=function(a,b,c){var d='<div class="xtable-pager"><table><tr><td><select class="xtable-pagelist"><option value="20">20</option><option value="30">30</option><option value="40">40</option><option value="50">50</option></select></td>';d+='<td><div class="xpager-separator"></div></td><td><span class="xpage-ico xpage-first"><i></i></span><span class="xpage-ico xpage-prev"><i></i></span></td>',d+='<td><div class="xpager-separator"></div></td><td></td>',d+='<td><div class="xpager-separator"></div></td><td><span class="xpage-ico xpage-next"><i></i></span><span class="xpage-ico xpage-last"><i></i></span></td>',d+='<td><div class="xpager-separator"></div></td><td><span class="xpage-ico xpage-load"><i></i></span></td><td><div class="xpager-separator"></div></td>',d+='<td><span class="xpage-total"></span></td>',d+="</tr></table></div>",a.append(d);var e={};e[b.pageIndex]=1,e[b.pageSize]=20;var f=a.find(".xtable-pager");f.data("data",e),setPage(a,b,1,20,c),f.on("click",".xpage-ico",function(d){d.preventDefault();var e=parseInt(f.find(".xpage-current").text()),g=parseInt(f.find(".xtable-pagelist").val()),h=e,i=$(this);return!i.hasClass("xpage-disabled")&&((!i.hasClass("xpage-load")||!b.onLoadBtnClick||b.onLoadBtnClick()!==!1)&&(i.hasClass("xpage-next")&&(h=e+1),i.hasClass("xpage-prev")&&(h=e-1),i.hasClass("xpage-last")&&(h=parseInt(i.attr("pageSum"))),i.hasClass("xpage-first")&&(h=1),f.data("data")[b.pageIndex]=h,setPage(a,b,h,g,c),void a.table("reload")))}),f.on("click",".xpage-item",function(d){d.preventDefault();var e=$(this);if(e.hasClass("xpage-current"))return!1;var g=parseInt(e.text()),h=parseInt(f.find(".xtable-pagelist").val());f.data("data")[b.pageIndex]=g,setPage(a,b,g,h,c),a.table("reload")}),f.find(".xtable-pagelist").change(function(d){var e=parseInt(f.find(".xpage-current").text()),g=parseInt(f.find(".xtable-pagelist").val());setPage(a,b,e,g,c),f.data("data")[b.pageSize]=g,a.table("reload")})},lazyload=function(a,b,c){var d=c%b.pageRows==0?c/b.pageRows:parseInt(c/b.pageRows)+1;if(!a.find(".xtable-lazyload").length){var e='<div class="xtable-lazyload"></div>';a.append(e);var f={};f[b.pageIndex]=1,f[b.pageSize]=b.pageRows,a.find(".xtable-lazyload").data("data",f)}$pager=a.find(".xtable-lazyload"),$wrap=a.find(".xtable-listwrap"),$wrap.off("scroll"),$wrap.scroll(function(){var c=$wrap.children(".xtable-list").height(),e=$wrap.height(),f=$wrap.scrollTop();if(f+e>=c){var g=$pager.data("data")[b.pageIndex];if(g>=d)return!1;$pager.data("data")[b.pageIndex]=g+1;var h=$pager.attr("status");"loading"!=h&&($pager.attr("status","loading"),a.table("reload",!0))}})},loading=function(a,b){if(b)return a.find(".xloading").fadeOut("400",function(){a.find(".xloading").remove()}),!1;var c=a.data("data").options;if(!a.find(".xloading").length&&c.loading){var d='<div class="xloading"><div class="loading-mask"></div><div class="loading-info"><i></i><span>\u6B63\u5728\u52A0\u8F7D...</span></div></div>';a.append(d)}}}(jQuery),function(a){var b=["#61A4D5","#7AC87A","#DC786E","#7498AB","#BF5DFD","#31BABB","#C19058","#FF7F2F","#6C6D6F"];a.fn.tag=function(b){b=b||{};var d=a.extend({},a.fn.tag.defaults,b);return c(this,d),this},a.fn.tag.defaults={color:b};var c=function(a,b){if(b.data)for(var c=b.data,d=b.color,e=0,f=0;e<c.length;e++,f++)f%=d.length,a.append('<a class="xtag-xa" href="javascript:void(0);" title='+c[e].name+' style="background: '+d[f]+';"><i></i>'+c[e].name+"</a>")}}(jQuery),function(a){function b(a,b){this.bearer=a,this.options=b,this.hideEvent,this.mouseOverMode="hover"==this.options.trigger||"mouseover"==this.options.trigger||"onmouseover"==this.options.trigger}b.prototype={show:function(){var b=this;a(this.tooltip).fadeIn("slow"),b.mouseOverMode&&!b.isClick&&(this.tooltip.mouseover(function(){clearTimeout(b.hideEvent)}),this.tooltip.mouseout(function(){clearTimeout(b.hideEvent),b.hide()}))},hide:function(){var b=this;this.hideEvent=setTimeout(function(){a(b.tooltip.fadeOut("slow"))},100)},addAnimation:function(){switch(this.options.animation){case"none":break;case"fadeIn":this.tooltip.addClass("animated"),this.tooltip.addClass("fadeIn");break;case"flipIn":this.tooltip.addClass("animated"),this.tooltip.addClass("flipIn")}},setContent:function(){if(a(this.bearer).css("cursor","pointer"),this.options.content)this.content=this.options.content;else{if(!this.bearer.attr("data-tooltip"))return;this.content=this.bearer.attr("data-tooltip")}if("#"==this.content.charAt(0)){if(this.options.delete_content){var b=a(this.content).html();a(this.content).html(""),this.content=b,delete b}else a(this.content).hide(),this.content=a(this.content).html();this.contentType="html"}else this.contentType="text";tooltipId="",tooltipName="",this.bearer.attr("id")&&(tooltipId='id="tooltip-'+this.bearer.attr("id")+'"'),this.bearer.attr("name")&&(tooltipName='name="tooltip-'+this.bearer.attr("name")+'"'),this.tooltip=a("<ins "+tooltipId+tooltipName+' class="dark-tooltip '+this.options.theme+" "+this.options.size+" "+this.options.gravity+'"><div>'+this.content+'</div><div class="tip"></div></ins>'),this.tip=this.tooltip.find(".tip"),this.clearBefore(),a("body").append(this.tooltip),"html"==this.contentType&&this.tooltip.css("max-width","none"),this.addAnimation()},setPositions:function(){var a=this.bearer.offset().left,b=this.bearer.offset().top;switch(this.options.gravity){case"top":a+=this.bearer.outerWidth()/2-this.tooltip.outerWidth()/2,b+=-this.tooltip.outerHeight()-this.tip.outerHeight()/2-5;break;case"right":a+=this.bearer.outerWidth()+this.tip.outerWidth()/2+5,b+=this.bearer.outerHeight()/2-this.tooltip.outerHeight()/2;break;case"bottom":a+=this.bearer.outerWidth()/2-this.tooltip.outerWidth()/2,b+=this.bearer.outerHeight()+this.tip.outerHeight()/2+5;break;case"left":a+=-this.tooltip.outerWidth()-this.tip.outerWidth()/2-5,b+=this.bearer.outerHeight()/2-this.tooltip.outerHeight()/2}this.options.autoLeft&&this.tooltip.css("left",a),this.options.autoTop&&this.tooltip.css("top",b)},setEvents:function(){var a,b=this,c=b.options.hoverDelay;this.bearer.mouseenter(function(){a=setTimeout(function(){b.setPositions(),b.show()},c)}).mouseleave(function(){clearTimeout(a),b.hide()})},activate:function(){this.setContent(),this.content&&this.setEvents()},clearBefore:function(){this.bearer.attr("id")&&a("#tooltip-"+this.bearer.attr("id")).length&&a("#tooltip-"+this.bearer.attr("id")).remove(),this.bearer.attr("name")&&a('[name="tooltip-'+this.bearer.attr("name")+'"]').length&&a('[name="tooltip-'+this.bearer.attr("name")+'"]').remove()}},a.fn.tooltip=function(c){return this.each(function(){c=a.extend({},a.fn.tooltip.defaults,c);
var d=new b(a(this),c);d.activate()})},a.fn.tooltip.defaults={gravity:"top",content:"",animation:"none",hoverDelay:50,size:"medium",theme:"dark",trigger:"hover",autoTop:!0,autoLeft:!0}}(jQuery),function($){$.fn.tree=function(option,value){if("string"==typeof option)return $.fn.tree.methods[option](this,value);option=option||{};var data=this.data("data");if(data)$.extend(data.options,option);else{var options=this.attr("data-options")||"";options=eval("({"+options+"})"),$.extend(options,option),this.data("data",{options:$.extend({},$.fn.tree.defaults,options)})}return init(this,this.data("data").options),this},$.fn.tree.defaults={url:null,data:null,checked:!1,textField:"name",beforeExpand:null,onCheck:null,onInited:null,checkedHandle:null,icoHandle:null,rowsName:"rows"},$.fn.tree.methods={setting:function(a,b){var c=a.data("data").options;return b&&$.extend(c,b),c},getData:function(a){return a.data("data").data},getSelected:function(a){var b=(a.data("data").data,a.find(".xtree-selected"));if(b.length){var c=getNodesData(a,b.parent())[0];return c}return null},remove:function(a,b){var c=a.data("data").data,d=b.attr("id"),e=parseInt(b.attr("level"));delete c[d];for(var f=b.find(".xtree-node"),g=0;g<f.length;g++)delete c[$(f[g]).attr("id")];0!=e?(f=b.parent().parent().find(".xtree-node"),1==f.length?(b.parent().parent().find(".block:eq(0)").removeClass("switch switch-open"),b.parent().parent().find(".xtree-ico").removeClass("ico-open"),b.parent().parent().find("ul").remove()):b.remove()):b.remove()},append:function(a,b){if(b.parent){var c=b.parent.attr("id"),d=parseInt(b.parent.attr("level")),e=initData(a,b.data,d+1);$("#"+c+"_ul").length?$("#"+c+"_ul").append(e):(e='<ul id="'+c+'_ul">'+e+"</ul>",b.parent.append(e)),b.parent.children(".block:eq(0)").addClass("switch switch-open"),b.parent.children("a").find(".xtree-ico").addClass("ico-open")}else{var d=0,e=initData(a,b.data,0);$(a).append(e)}},getParent:function(a,b){return getNodesData(a,b.parent().parent())[0]},getParents:function(a,b){var c=b.parents(".xtree-node");return getNodesData(a,c)},getRoot:function(a,b){var c=a.tree("getParents",b);return c.length?c[c.length-1]:getNodesData(a,[b])[0]},getRoots:function(a){var b=a.children(".xtree-node");return b.length?getNodesData(a,b):[]},expand:function(a,b){var c=void 0,d=b;"object"==typeof b&&(d=b.target,c=b.callback);var e=d.children(".block");e.hasClass("switch-open")||(c?e.trigger("click",[c]):e.click())},expandAll:function(a){a.find(".switch").not(".switch-open").click()},collapse:function(a,b){var c=b.children(".block");c.hasClass("switch-open")&&c.click()},collapseAll:function(a){a.find(".switch-open").click()},expandTo:function(a,b){for(var c=a.tree("getParents",b),d=0;d<c.length;d++)a.tree("expand",c[d].target)},reload:function(a){var b=a.data("data").options;init(a,b)},getChecked:function(a){var b=a.find(".checked,.checked-disabled").parent();return getNodesData(a,b)},select:function(a,b){var c=!0;b.hasOwnProperty("trigger")&&(c=b.trigger),b.target.children(".xtree-a").trigger("click",[c])},unSelect:function(a){a.find(".xtree-selected").removeClass("xtree-selected")},check:function(a,b){var c=!0;b.hasOwnProperty("trigger")&&(c=b.trigger);var d=b.target.children(".xtree-check");d.hasClass("checked")||d.hasClass("checked-disabled")||d.hasClass("disabled")||d.trigger("click",[c])},unCheck:function(a,b){var c=!0;b.hasOwnProperty("trigger")&&(c=b.trigger);var d=b.target.children(".xtree-check");d.hasClass("checked")&&d.trigger("click",[c])},siblings:function(a,b){var c=b.siblings(".xtree-node");return getNodesData(a,c)},find:function(a,b){var c="like";b.hasOwnProperty("pattern")&&(c=b.pattern);var d=a.data("data").data,e=[];a.find(".xtree-highlight").removeClass("xtree-highlight");for(var f in d)d[f].hasOwnProperty(b.key)&&("like"==c&&d[f][b.key].toLowerCase().indexOf(b.value)>-1||"equal"==c&&d[f][b.key]==b.value)&&(e.push($("#"+f)[0]),b.show&&$("#"+f).children(".xtree-a").addClass("xtree-highlight"));return getNodesData(a,e)},setValue:function(a,b){var c=a.data("data").data,d=a.data("data").options,e=b.target[0].id;c[e][b.key]=b.value,b.key==d.textField&&(b.target.children(".xtree-a").attr("title",b.value),b.target.children(".xtree-a").find(".xtree-text").text(b.value))},loadData:function(a,b){var c=initData(a,b);a.html(c),bind(a)}};var itemId=0,init=function(a,b){if(a.addClass("xtree"),a.data("data").data={},b.data){var c=initData(a,b.data);a.html(c),bind(a),b.onInited&&b.onInited()}else b.url&&$.request({url:b.url,done:function(c){"object"!=typeof c&&(c=$.parseJSON(c));var d=[];$.each(c.rows,function(a,b){"/strongbox"!==b.path&&d.push(b)}),c.rows=d;var e=initData(a,c);a.html(e),bind(a),b.onInited&&b.onInited()}})},initData=function(a,b,c){var d=a.data("data").options;b.hasOwnProperty(d.rowsName)&&(b=b[d.rowsName]),d.onDataReady&&(b=d.onDataReady(b)),c=c?c:0;var e=build(a,b,c);return $.extend(a.data("data").data,e.nodes),e.str},build=function(a,b,c,d){var e=a.data("data").options;c=c?c:0,d=d?d:{};for(var f=a.attr("id"),g="",h=0;h<b.length;h++){var i=f+"_"+itemId++;d[i]=b[h];var j=b[h].hasOwnProperty("children")?b[h].children.length:0;g+='<li class="xtree-node" id="'+i+'" level="'+c+'"><span class="block',j?g+=" switch switch-open":"closed"==b[h].state&&(g+=" switch"),g+='"></span>',e.checked&&(e.checkedHandle&&e.checkedHandle(b[h])||!e.checkedHandle)&&(g+='<span class="xtree-check',b[h].hasOwnProperty("checked")&&(g+=" "+b[h].checked),g+='"></span>'),g+='<a class="xtree-a" title="'+b[h][e.textField]+'"><span class="xtree-ico',j&&(g+=" ico-open"),b[h].hasOwnProperty("ico")&&(g+=" "+b[h].ico),e.icoHandle&&(g+=" "+e.icoHandle(b[h],c)),g+='"></span><span class="xtree-text">'+b[h][e.textField]+"</span></a>",j&&(g+='<ul id="'+i+'_ul">'+build(a,b[h].children,c+1,d).str+"</ul>"),g+="</li>"}return{str:g,nodes:d}},bind=function(a){var b=a.data("data").options,c=a.data("data").data;a.off(),a.on("click",".switch",function(d,e){d.preventDefault();var f=$(this),g=f.parent();if(g.children("ul").length||!b.url)f.toggleClass("switch-open"),f.siblings("a").find(".xtree-ico").toggleClass("ico-open"),f.siblings("ul").slideToggle("fast"),e&&e();else{var h={};b.beforeExpand&&(h=b.beforeExpand(g,c[g[0].id])),g.find(".switch").addClass("ico-loading"),$.request({url:b.url,params:h,done:function(c){if(g.find(".switch").removeClass("ico-loading"),c[b.rowsName].length){var d=[];$.each(c[b.rowsName],function(a,b){"/strongbox"!==b.path&&d.push(b)}),c.rows=d,a.tree("append",{parent:g,data:c})}else g.find(".switch").removeClass("switch");e&&e()}})}}),a.on("click",".xtree-a",function(c,d){c.preventDefault(),a.find(".xtree-selected").removeClass("xtree-selected");var e=$(this);e.addClass("xtree-selected"),b.onSelect&&d!==!1&&b.onSelect(getNodesData(a,e.parent())[0])}),a.on("dblclick",".xtree-a",function(c){c.preventDefault();var d=$(this);b.onDblClick&&b.onDblClick(getNodesData(a,d.parent())[0])}),a.on("click",".xtree-check",function(c,d){c.preventDefault();var e=$(this);if(!e.hasClass("disabled")&&!e.hasClass("checked-disabled")&&(e.toggleClass("checked"),b.onCheck&&d!==!1)){var f=getNodesData(a,e.parent())[0];b.onCheck(f,e.hasClass("checked"))}})},getNodesData=function(a,b){for(var c=a.data("data").data,d=[],e=0;e<b.length;e++){var f=$(b[e]).attr("id");if(c.hasOwnProperty(f)){var g=c[f];g.target=$(b[e]),d.push(g)}}return d}}(jQuery),function($){function init(a,b){if(b.data){var c=build(a,b.data);a.find(".xtable-list").html(c)}bind(a,b),fixSize(a)}function fixSize(a){var b=a.height();a.find(".xtable-listwrap").height(b-36)}function build(a,b,c){var d=a.data("data").options;c=c?c:0;var e="";return $.each(b,function(b,f){e+='<div class="xtable-row" level="'+c+'">',$.each(d.columns,function(a,b){if(e+='<div class="col" style="width:'+b.width+'px;">',b.field==d.treeField){for(var g=0;g<c;g++)e+='<i class="block"></i>';e+='<span class="block',f.children&&f.children.length?e+=" switch switch-open":"closed"==f.state&&(e+=" switch"),e+='"></span>',e+='<span class="xtree-ico',f.children&&f.children.length&&(e+=" ico-open"),f.ico&&(e+=" "+f.ico),d.icoHandle&&(e+=d.icoHandle(f)),e+='"></span>'}e+="<span>"+f[b.field]+"</span></div>"}),e+="</div>",f.children&&f.children.length&&(e+='<div class="xtable-child">'+build(a,f.children,c+1)+"</div>")}),e}function bind(a,b){a.on("click",".switch",function(c){c.preventDefault();var d=$(this),e=d.parents(".xtable-row"),f=e.next(".xtable-child");f&&d.toggleClass("switch-open"),d.next(".xtree-ico").toggleClass("ico-open"),f.length||!b.url?f.toggle():(d.addClass("ico-loading"),$.request({url:b.url,done:function(b){d.removeClass("ico-loading"),a.treetable("append",{parent:e,data:b})}}))})}$.fn.treetable=function(option,value){if("string"==typeof option)return $.fn.treetable.methods[option](this,value);option=option||{};var data=this.data("data");if(data)$.extend(data.options,option);else{var options=this.attr("data-options")||"";options=eval("({"+options+"})"),$.extend(options,option),this.data("data",{options:$.extend({},$.fn.treetable.defaults,options)})}return init(this,this.data("data").options),this},$.fn.treetable.defaults={url:null,data:null},$.fn.treetable.methods={append:function(a,b){var c=parseInt(b.parent.attr("level")),d=build(a,b.data,c+1),e=b.parent.next(".xtable-child");e.length?e.append(d):b.parent.after('<div class="xtable-child">'+d+"</div>")}}}(jQuery),function(a){a.ajaxSetup({beforeSend:function(b,c){c.global!==!1&&a(document).trigger("beforeSend",c)}}),a.request=function(b){var c=a.Deferred(),d=new Lang,e=d.getLang();e="en"==e?"en":"zh";var f={url:null,type:"post",dataType:"json",params:{},data:{},done:null,fail:null,always:null,async:!0,json:!0,checkLogin:!0,headers:{"X-Device":"Web","X-Language":e}};if(b.url&&b.url.indexOf("?")!=-1){var g=b.url.substr(b.url.indexOf("?")+1);strs=g.split("&");for(var h=0;h<strs.length;h++)"token"==strs[h].split("=")[0]&&(f.data.token=strs[h].split("=")[1])}var i=b.params||b.data;if(i||(i={}),!i.token&&document.cookie.indexOf("token")<0){var j=window.location.search;if(j&&j.indexOf("?")!=-1){var g=j.substr(j.indexOf("?")+1);strs=g.split("&");for(var h=0;h<strs.length;h++)"token"===strs[h].split("=")[0]&&(i.token=strs[h].split("=")[1])}}b=a.extend(f,b);var k=!0;return a.each(i,function(a,b){"string"==typeof b&&b.indexOf("??")>-1&&(k=!1)}),k?(b.json&&"post"==b.type.toLowerCase()&&(i=JSON.stringify(i),b.headers["Content-Type"]="application/json; charset=UTF-8"),b.data=i,a.ajax(b).done(function(d){return"json"==b.dataType&&"string"==typeof d&&(d=a.parseJSON(d)),b.checkLogin===!0&&"ERR_TOKEN_EXPIRED"==d.stat?(window.location.href=window.login?window.login:"login.html",!1):b.checkLogin===!0&&"ERR_TOKEN_NOT_FOUND"==d.stat?(window.location.href=window.login?window.login:"login.html",!1):void(b.done?b.done(d):c.resolve(d))}).fail(function(a){b.fail?b.fail(a):c.reject(a)}).always(function(c){"json"==b.dataType&&"string"==typeof c&&(c=a.parseJSON(c)),b.always&&b.always(c)}),c.promise()):(a.alert("\u5305\u542B\u975E\u6CD5\u5B57\u7B26\u4E32\u201C??\u201D"),!1)}}(jQuery),function(){function verify($obj){var valid=$obj.attr("valid"),value=$.trim($obj.val()),isValid=!0;if(valid){if(valid=eval("({"+valid+"})"),valid.hasOwnProperty("require")&&valid.require===!0&&0==value.length)return tip($obj,"warn","\u8BE5\u9879\u4E0D\u80FD\u4E3A\u7A7A"),isValid=!1,!1;valid.hasOwnProperty("rules")&&$.each(valid.rules,function(a,b){return(valid.hasOwnProperty("require")&&valid.require===!0||!valid.hasOwnProperty("require")&&value.length>0)&&valid.hasOwnProperty("rules")&&b.hasOwnProperty("pattern")&&!b.pattern.test(value)?(tip($obj,"warn",b.tip),isValid=!1,!1):b.hasOwnProperty("equal")&&b.equal===!0&&value!=$("input[name="+b.target+"]").val()?(tip($obj,"warn",b.tip),isValid=!1,!1):void 0})}return isValid===!0&&removeTip($obj),isValid}function tip(a,b,c){removeTip(a),validId+=1,a.attr("validId",validId);var d=a.outerWidth(),e=a.outerHeight(),f=a.position().top,g=a.position().left,h='<div id="xvalid-'+validId+'" class="xvalid';"warn"==b&&(h+=" xvalid-warn"),h+='"><span class="xvalid-arrow"></span><span class="xvalid-arrow-i"></span><p><i></i>'+c+"</p></div>",a.after(h),$("#xvalid-"+validId).css({left:g+d+15,top:f+parseInt(e/2)-16})}function removeTip(a){var b=a.attr("validId");b&&$("#xvalid-"+b).remove()}function init(obj){var $obj=$(obj);$obj.focus(function(event){var value=$.trim($obj.val()),valid=$obj.attr("valid");valid&&0==value.length&&(valid=eval("({"+valid+"})"),valid.hasOwnProperty("tip")&&tip($obj,"info",valid.tip))}),$obj.blur(function(a){verify($obj)})}var validId=0;$.fn.valid=function(a,b){return"string"==typeof a&&$.fn.valid.methods.hasOwnProperty(a)?$.fn.valid.methods[a](this,b):($.each(this,function(a,b){init(b)}),this)},$.fn.valid.methods={formValid:function(a){var b=a.find(".valid"),c=!0;return $.each(b,function(a,b){verify($(b))===!1&&(c=!1)}),c}}}(jQuery),function(a){function b(a,b){this.bearer=a,this.validate=this.bearer.find("[data-class='validate']"),this.options=b}b.prototype={match:function(){var b=this.bearer.find("[data-class='validate']"),c=a.trim(b.val()),d=b.data("right-text"),e=b.data("error-text"),f=b.data("pattern");f=f.split("/"),f[2]||""==f[2],f=new RegExp(f[1],f[2]);var g="";return c.match(f)?(this.bearer.removeClass("checkError").addClass("checkRight"),this.bearer.find(".error").text(d),g=!0):""===c?(this.bearer.removeClass("checkRight").addClass("checkError"),this.bearer.find(".error").text("\u6B64\u9879\u5FC5\u987B\u586B\u5199"),g=!1):(this.bearer.removeClass("checkRight").addClass("checkError"),this.bearer.find(".error").text(e),g=!1),g},setEvents:function(){var a=this,b=this.bearer.find("[data-class='validate']");b.on("blur",function(){a.match()})},activate:function(){this.setEvents()}},a.fn.validate=function(c){return this.each(function(d){c=a.extend({},a.fn.validate.defaults,c);var e=new b(a(this),c);e.activate()})},a.fn.validate.defaults={checkValid:!1},a.fn.form=function(c){if(c=a.extend({},a.fn.form.defaults,c),c.checkValid===!0){var d;return a(this).find("[data-class='label-validate']").each(function(c){var e=new b(a(this));e.match("formEvent")||(d=!1)}),0!=d}},a.fn.form.defaults={}}(jQuery),function(a){a.fn.zclip=function(b){if("object"==typeof b&&!b.length){var c=a.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},b);return this.each(function(){var b=a(this);if(b.is(":visible")&&("string"==typeof c.copy||a.isFunction(c.copy))){ZeroClipboard.setMoviePath(c.path);var d=new ZeroClipboard.Client;a.isFunction(c.copy)&&b.bind("zClip_copy",c.copy),a.isFunction(c.beforeCopy)&&b.bind("zClip_beforeCopy",c.beforeCopy),a.isFunction(c.afterCopy)&&b.bind("zClip_afterCopy",c.afterCopy),d.setHandCursor(c.setHandCursor),d.setCSSEffects(c.setCSSEffects),d.addEventListener("mouseOver",function(a){b.trigger("mouseenter")}),d.addEventListener("mouseOut",function(a){b.trigger("mouseleave")}),d.addEventListener("mouseDown",function(e){b.trigger("mousedown"),a.isFunction(c.copy)?d.setText(b.triggerHandler("zClip_copy")):d.setText(c.copy),a.isFunction(c.beforeCopy)&&b.trigger("zClip_beforeCopy")}),d.addEventListener("complete",function(d,e){a.isFunction(c.afterCopy)?b.trigger("zClip_afterCopy"):(e.length>500&&(e=e.substr(0,500)+"...\n\n("+(e.length-500)+" characters not shown)"),b.removeClass("hover"),alert("Copied text to clipboard:\n\n "+e)),c.clickAfter&&b.trigger("click")}),d.glue(b[0],b.parent()[0]),a(window).bind("load resize",function(){d.reposition()})}})}if("string"==typeof b)return this.each(function(){var c=a(this);b=b.toLowerCase();var d=c.data("zclipId"),e=a("#"+d+".zclip");"remove"==b?(e.remove(),c.removeClass("active hover")):"hide"==b?(e.hide(),c.removeClass("active hover")):"show"==b&&e.show()})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){return"string"==typeof a&&(a=document.getElementById(a)),a.addClass||(a.hide=function(){this.style.display="none"},a.show=function(){this.style.display=""},a.addClass=function(a){this.removeClass(a),this.className+=" "+a},a.removeClass=function(a){for(var b=this.className.split(/\s+/),c=-1,d=0;d<b.length;d++)b[d]==a&&(c=d,d=b.length);return c>-1&&(b.splice(c,1),this.className=b.join(" ")),this},a.hasClass=function(a){return!!this.className.match(new RegExp("\\s*"+a+"\\s*"))}),a},setMoviePath:function(a){this.moviePath=a},dispatch:function(a,b,c){var d=this.clients[a];d&&d.receiveEvent(b,c)},register:function(a,b){this.clients[a]=b},getDOMObjectPosition:function(a,b){var c={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};return a&&a!=b&&(c.left+=a.offsetLeft,c.top+=a.offsetTop),c},Client:function(a){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),a&&this.glue(a)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(a,b,c){this.domElement=ZeroClipboard.$(a);var d=99;this.domElement.style.zIndex&&(d=parseInt(this.domElement.style.zIndex,10)+1),"string"==typeof b?b=ZeroClipboard.$(b):"undefined"==typeof b&&(b=document.getElementsByTagName("body")[0]);var e=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId);var f=this.div.style;if(f.position="absolute",f.left=""+e.left+"px",f.top=""+e.top+"px",f.width=""+e.width+"px",f.height=""+e.height+"px",f.zIndex=d,"object"==typeof c)for(addedStyle in c)f[addedStyle]=c[addedStyle];b.appendChild(this.div),this.div.innerHTML=this.getHTML(e.width,e.height)},getHTML:function(a,b){function c(){var a=!1,b=0,c=$.browser().browser;if("Internet Explorer"==c.name)try{var d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d&&(a=!0,b=d.GetVariable("$version"),b=parseInt(b.split(" ")[1].split(",")[0]))}catch(e){a=!1,b=0}else if(navigator.plugins&&navigator.plugins.length>0){var d=navigator.plugins["Shockwave Flash"];if(d){a=!0;for(var f=d.description.split(" "),g=0;g<f.length;++g)isNaN(parseInt(f[g]))||(b=parseInt(f[g]))}}return{hasFlash:a,version:b}}var d=c(),e=$.browser().browser,f="",g="id="+this.id+"&width="+a+"&height="+b;if(navigator.userAgent.match(/MSIE/)){var h=location.href.match(/^https/i)?"https://":"http://",i='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+h+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="SameDomain" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+g+'"/><param name="wmode" value="transparent"/></object>';if("Internet Explorer"==e.name&&(0==d.hasFlash||1==d.hasFlash&&parseInt(d.version)<12))var i='<object style="display:none" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+h+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="SameDomain" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+g+'"/><param name="wmode" value="transparent"/></object>';f+=i}else f+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+a+'" height="'+b+'" name="'+this.movieId+'" align="middle" allowScriptAccess="SameDomain" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+g+'" wmode="transparent" />';return f},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null,this.div=null}},reposition:function(a){if(a&&(this.domElement=ZeroClipboard.$(a),this.domElement||this.hide()),this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement),c=this.div.style;c.left=""+b.left+"px",c.top=""+b.top+"px"}},setText:function(a){this.clipText=a,this.ready&&this.movie.setText(a)},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=[]),this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a,this.ready&&this.movie.setHandCursor(a)},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){switch(a=a.toString().toLowerCase().replace(/^on/,"")){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){var c=this;return void setTimeout(function(){c.receiveEvent("load",null)},1)}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;return setTimeout(function(){c.receiveEvent("load",null)},100),void(this.ready=!0)}this.ready=!0;try{this.movie.setText(this.clipText)}catch(d){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(d){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[a])for(var e=0,f=this.handlers[a].length;e<f;e++){var g=this.handlers[a][e];"function"==typeof g?g(this,b):"object"==typeof g&&2==g.length?g[0][g[1]](this,b):"string"==typeof g&&window[g](this,b)}}};